(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{100:function(e,t,a){},176:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),s=a(42),r=a.n(s),i=(a(100),a(18)),o=a(24),l=a(2),j=a(11),u=a.n(j),b=Object(c.createContext)({}),d="SIGN_IN",O="SIGN_OUT",m="SEARCH",p=a(8),h=a.n(p),g=a(17),f=a(49),x=function(e){var t=1e3*(e.tokenObj.expires_in||3300),a=function(){var c=Object(g.a)(h.a.mark((function c(){var n;return h.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,e.reloadAuthResponse();case 2:n=c.sent,t=1e3*(n.expires_in||3300),console.log("newAuthRes:",n),localStorage.setItem("authToken",n.id_token),setTimeout(a,t);case 7:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}();setTimeout(a,t)},v=a(0);var N=function(){var e=Object(c.useContext)(b).store,t=Object(c.useState)(0),a=Object(l.a)(t,2),n=(a[0],a[1],function(){var t=Object(g.a)(h.a.mark((function t(a){var c,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/v1/auth/google",{method:"POST",body:JSON.stringify({token:a.tokenId}),headers:{"Content-Type":"application/json"}});case 2:return c=t.sent,x(a),t.next=6,c.json();case 6:n=t.sent,200==c.status&&(localStorage.setItem("signed-in",!0),localStorage.setItem("data",JSON.stringify(n)),e.logIn(n));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(f.GoogleLogin,{clientId:"862401961471-9rarhcogm291ddfp3q84dqk6cf3heaf6.apps.googleusercontent.com",buttonText:"Log in with Google",onSuccess:n,onFailure:function(e){console.log("[Login failed] res: ",e)},cookiePolicy:"single_host_origin",isSignedIn:!0,render:function(e){return Object(v.jsx)("a",{className:"loginButton",onClick:e.onClick,children:"LOGIN"})}})})};var y=function(){var e=Object(c.useContext)(b).store;return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(f.GoogleLogout,{clientId:"862401961471-9rarhcogm291ddfp3q84dqk6cf3heaf6.apps.googleusercontent.com",buttonText:"Logout",onLogoutSuccess:function(){console.log("Logout made successfully");fetch("/api/v1/auth/logout",{method:"DELETE",headers:{"Content-Type":"application/json"}});e.logOut(),localStorage.clear()},render:function(e){return Object(v.jsx)("a",{className:"logoutButton",onClick:e.onClick,style:{fontSize:"1.5rem"},children:"Log Out"})}})})};var S=function(e){var t=Object(c.useContext)(b).store,a=Object(c.useState)(0),n=Object(l.a)(a,2),s=(n[0],n[1],function(){var e=Object(g.a)(h.a.mark((function e(a){var c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/auth/google",{method:"POST",body:JSON.stringify({token:a.tokenId}),headers:{"Content-Type":"application/json"}});case 2:return c=e.sent,x(a),e.next=6,c.json();case 6:n=e.sent,200==c.status&&(localStorage.setItem("signed-in",!0),localStorage.setItem("data",JSON.stringify(n)),t.logIn(n));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(f.GoogleLogin,{clientId:"862401961471-9rarhcogm291ddfp3q84dqk6cf3heaf6.apps.googleusercontent.com",buttonText:"Log in with Google",onSuccess:s,onFailure:function(e){console.log("[Login failed] res: ",e)},cookiePolicy:"single_host_origin",isSignedIn:!0,render:function(t){return Object(v.jsx)("div",{className:"nButton",onClick:t.onClick,children:e.children})}})})};var C=function(e){var t=Object(c.useContext)(b).store,a=Object(c.useState)(t.search),n=Object(l.a)(a,2),s=n[0],r=n[1],j=Object(c.useState)(!1),d=Object(l.a)(j,2),O=d[0],m=d[1],p=Object(c.useState)(),h=Object(l.a)(p,2),g=h[0],f=h[1],x=Object(c.useState)(),C=Object(l.a)(x,2),k=(C[0],C[1]),I=Object(o.e)(),w="";t.loggedIn&&(w=t.username),Object(c.useEffect)((function(){if(t.loggedIn){var e=localStorage.getItem("data");e=JSON.parse(e),u.a.get("/api/v1/get_user/"+w).then((function(e){return f(e.data)})).catch((function(e){k("No userdata")}))}}),[]),Object(c.useEffect)((function(){if(t.loggedIn){var e=localStorage.getItem("data");e=JSON.parse(e),u.a.get("/api/v1/get_user/"+w).then((function(e){return f(e.data)})).catch((function(e){k("No userdata")}))}}),[O,t.loggedIn]),Object(c.useEffect)((function(){}),[g]);var E=function(){m(!O)},q=function(){m(!1)};return Object(v.jsx)("header",{children:Object(v.jsxs)("div",{className:"all",children:[Object(v.jsx)("a",{href:"/",children:Object(v.jsx)("img",{src:"/images/logo11.png",className:"logo",alt:"logo",width:"85"})}),Object(v.jsxs)("div",{className:"headerItems",children:[Object(v.jsxs)("div",{className:"topLine",children:[Object(v.jsx)("div",{className:"searchBar",children:Object(v.jsxs)("form",{className:"searchForm",onSubmit:function(e){e.preventDefault(),t.setSearch(s),console.log("printing search query: ",t.search);I.push("/search")},children:[Object(v.jsx)("input",{type:"text",name:"search",className:"searchInput",placeholder:"search categories",id:"searchInput",onChange:function(e){return r(e.target.value)}}),Object(v.jsx)("button",{type:"submit",children:Object(v.jsx)("img",{src:"/images/magnifyingglass.png",width:"13"})})]})}),Object(v.jsx)("div",{className:"login"})]}),Object(v.jsx)("div",{className:"mainButtons",children:t.loggedIn?[Object(v.jsx)(i.b,{to:"/categories",children:Object(v.jsx)("button",{type:"button",children:"CATEGORIES"})}),Object(v.jsx)(i.b,{to:"/createplatform",children:Object(v.jsx)("button",{type:"button",children:"CREATE"})}),Object(v.jsx)(i.b,{to:"/leaderboard",children:Object(v.jsx)("button",{type:"button",children:"LEADERBOARD"})}),Object(v.jsx)(i.b,{to:"/store",children:Object(v.jsx)("button",{type:"button",children:"STORE"})}),Object(v.jsx)(i.b,{to:"/help",children:Object(v.jsx)("button",{type:"button",children:"HELP"})})]:[Object(v.jsx)(i.b,{to:"/categories",children:Object(v.jsx)("button",{type:"button",children:"CATEGORIES"})}),Object(v.jsx)(S,{children:Object(v.jsx)("button",{type:"button",children:"CREATE"})}),Object(v.jsx)(S,{children:Object(v.jsx)("button",{type:"button",children:"LEADERBOARD"})}),Object(v.jsx)(S,{children:Object(v.jsx)("button",{type:"button",children:"STORE"})}),Object(v.jsx)(i.b,{to:"/help",children:Object(v.jsx)("button",{type:"button",children:"HELP"})})]})]}),Object(v.jsx)("div",{className:"loginButtons",children:t.loggedIn?t.loggedIn&&!O?Object(v.jsx)("img",{className:"profileThumb",src:g&&g.userImage,onClick:function(){return E()}}):!(!t.loggedIn||!O)&&Object(v.jsxs)("div",{className:"miniProfile",children:[Object(v.jsxs)("div",{className:"userPreview",children:[Object(v.jsx)("div",{className:"userImage"}),Object(v.jsxs)("div",{className:"usernameBadge",children:[Object(v.jsx)("img",{src:g&&g.badge}),Object(v.jsx)("span",{onClick:function(){return E()},children:w})]})]}),Object(v.jsxs)(i.b,{className:"redirectMyPage",to:"/MyPage",onClick:function(){return q()},children:[Object(v.jsx)("img",{src:"/images/icon/smile.png",alt:"smile"}),Object(v.jsx)("p",{children:"My Page"})]}),Object(v.jsxs)("div",{className:"redirectLogout",children:[Object(v.jsx)("img",{src:"/images/icon/logout.png",alt:"logout"}),Object(v.jsx)(y,{onClick:function(){return q()}})]})]}):Object(v.jsx)(N,{})})]})})},k=a(90),I=a.n(k),w=a(116),E=a.n(w),q=a(119),L=a.n(q),z=a(80),P=a.n(z),T=a(89),A=a.n(T),_=a(120),B=a.n(_),D=a(121),R=a.n(D),M=a(115),F=function(){var e=Object(g.a)(h.a.mark((function e(t,a){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,void 0==a&&(a={}),e.next=4,u()({method:"POST",url:t,data:a,headers:{"Access-Control-Allow-Origin":"*"},withCredentials:!0});case 4:if(200==(c=e.sent).status){e.next=7;break}throw c.result;case 7:return e.abrupt("return",c.data);case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}(),Q=function(){var e=Object(g.a)(h.a.mark((function e(t,a){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,void 0==a&&(a={}),e.next=4,u()({method:"Delete",url:t,data:a,headers:{"Access-Control-Allow-Origin":"*"},withCredentials:!0});case 4:if(200==(c=e.sent).status){e.next=7;break}throw c.result;case 7:return e.abrupt("return",c.data);case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}(),U=function(){var e=Object(g.a)(h.a.mark((function e(t,a,c){var n,s,r,i,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=new FormData,s=Object(M.a)(a);try{for(s.s();!(r=s.n()).done;)i=r.value,n.append("file",i)}catch(l){s.e(l)}finally{s.f()}return c&&Object.keys(c).forEach((function(e){n.append(e,c[e])})),e.next=7,u()({method:"POST",url:t,data:n,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"multipart-form-data"},withCredentials:!0});case 7:if(200==(o=e.sent).data.resultCode){e.next=10;break}throw o.data.errorMsg;case 10:return e.abrupt("return",o.data);case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{resultCode:9999,errorMessage:e.t0});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,a,c){return e.apply(this,arguments)}}();var H=function(e){return Object(v.jsx)("div",{className:"modal",children:Object(v.jsx)("div",{className:"modal-container",children:e.children})})};var W=function(){var e=Object(c.useState)(),t=Object(l.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(),r=Object(l.a)(s,2),i=(r[0],r[1],Object(c.useState)([])),o=Object(l.a)(i,2),j=o[0],b=o[1],d=Object(c.useState)([]),O=Object(l.a)(d,2),m=O[0],p=O[1],f=Object(c.useState)(),x=Object(l.a)(f,2),N=(x[0],x[1]),y=Object(c.useState)(),S=Object(l.a)(y,2),C=S[0],k=S[1];Object(c.useEffect)((function(){!function(){var e=localStorage.getItem("data");e=JSON.parse(e),u.a.get("/api/v1/get_subscribers/"+e.id).then((function(e){return n(e.data)})).catch((function(e){N("No userdata")})),u.a.get("/api/v1/get_top3").then((function(e){return k(e.data)})).catch((function(e){N("No Top3")}))}(),function(){var e=localStorage.getItem("data");e=JSON.parse(e),u.a.get("/api/recentquiz/"+e.id).then((function(e){return X(e.data)})).catch((function(e){N("No quizdata")}))}()}),[]),Object(c.useEffect)((function(){b(null===a||void 0===a?void 0:a.ids),p(null===a||void 0===a?void 0:a.names),console.log("data is set now",a)}),[a]);var I=Object(c.useState)(!1),w=Object(l.a)(I,2),q=w[0],z=w[1],T=Object(c.useState)(""),_=Object(l.a)(T,2),D=_[0],M=_[1],Q=Object(c.useState)(""),U=Object(l.a)(Q,2),W=U[0],J=U[1],G=Object(c.useState)(""),Z=Object(l.a)(G,2),V=(Z[0],Z[1],Object(c.useState)()),Y=Object(l.a)(V,2),K=Y[0],X=Y[1],$=function(e){z(!1),M(""),J("")},ee=function(){var e=Object(g.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("modal submitted"),e.next=3,F("/api/feedback/savefeedback",{email:W,feedback:D});case 3:e.sent,$();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:"navContainer",children:[Object(v.jsxs)("div",{className:"nav-title",style:{marginBottom:"1rem"},children:[Object(v.jsx)(E.a,{style:{color:"black",marginRight:"2px"},sx:{fontSize:25}}),Object(v.jsx)("a",{className:"popup nButton",href:"/",children:"Home"})]}),Object(v.jsxs)("div",{className:"nav-element",children:[Object(v.jsxs)("div",{className:"nav-title",children:[Object(v.jsx)(L.a,{style:{color:"black",marginRight:"2px"},sx:{fontSize:25}}),"Recent Quizzes"]}),Object(v.jsx)("div",{className:"linksContainer",children:K?K.map((function(e,t){var a=e.quizName,c=e._id;return Object(v.jsx)("ui",{className:"navLinks",children:Object(v.jsxs)("a",{href:"/quiz/".concat(c),children:[t+1,". ",a]})})})):null})]}),Object(v.jsxs)("div",{className:"nav-element",children:[Object(v.jsxs)("div",{className:"nav-title",children:[Object(v.jsx)(A.a,{style:{color:"black",marginRight:"2px"},sx:{fontSize:25},children:" "}),"Subscribed Platforms"]}),Object(v.jsx)("div",{className:"linksContainer",children:j?j.map((function(e,t){var a=m[t];return Object(v.jsx)("ui",{className:"navLinks",children:Object(v.jsxs)("a",{href:"/platform/".concat(e),children:[t+1,". ",a]})})})):null})]}),Object(v.jsxs)("div",{className:"nav-element",children:[Object(v.jsxs)("div",{className:"nav-title",children:[Object(v.jsx)(A.a,{style:{color:"black",marginRight:"2px"},sx:{fontSize:25},children:" "}),"Suggested Platforms"]}),Object(v.jsx)("div",{className:"linksContainer",children:C?C.map((function(e,t){var a=e.title;return Object(v.jsx)("ui",{className:"navLinks",children:Object(v.jsxs)("a",{href:"/platform/".concat(e._id),children:[t+1,". ",a]})})})):null})]}),Object(v.jsxs)("div",{className:"nav-title",style:{marginBottom:"1rem"},children:[Object(v.jsx)(B.a,{style:{color:"black",marginRight:"2px"},sx:{fontSize:25},children:" "}),Object(v.jsx)("a",{className:"popup",href:"https://twitter.com",target:"_blank",children:"Announcements on Twitter"})]}),Object(v.jsx)("div",{className:"nav-element",style:{marginBottom:"1rem"},children:Object(v.jsxs)("a",{className:"popup",href:"javascript:;",onClick:function(e){z(!0)},children:[Object(v.jsx)(R.a,{style:{color:"black",marginRight:"2px"},sx:{fontSize:25},children:" "}),"Send Us Feedback"]})}),Object(v.jsxs)("div",{className:"nav-copyright",children:[Object(v.jsx)(P.a,{style:{color:"#929292",marginRight:"2px"},sx:{fontSize:20}}),"Blue-Space 2021"]}),Object(v.jsx)("div",{className:"send-feedback ".concat(q?"expanded":""),children:q?Object(v.jsx)("div",{children:Object(v.jsxs)(H,{children:[Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Email"}),Object(v.jsx)("input",{type:"text",className:"popup",name:"email",placeholder:"Email-Address",value:W,onChange:function(e){return function(e){var t=e.target,a=(t.name,t.value);J(a),console.log("modal changed email",W)}(e)}}),Object(v.jsx)("label",{children:"Send us Feedback"}),Object(v.jsx)("input",{type:"textarea",value:D,name:"modalFeedback",onChange:function(e){return function(e){var t=e.target,a=(t.name,t.value);M(a)}(e)},placeholder:"Send us any feedback",className:"popup"})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("button",{className:"popupButton",onClick:function(e){return ee(e)},type:"button",style:{backgroundColor:"#00aeef",color:"white"},children:"SEND"}),Object(v.jsx)("button",{className:"popupButton",onClick:function(e){return $()},type:"button",style:{backgroundColor:"transparent",color:"#929292"},children:"CANCEL"})]})]})}):null})]})};var J=function(e){var t=Object(c.useContext)(b).store,a=Object(c.useState)(!1),n=Object(l.a)(a,2),s=n[0],r=n[1];return Object(c.useEffect)((function(){t.loggedIn||r(!1)}),[t.loggedIn]),Object(v.jsxs)("div",{className:"navigation ".concat(s?"expanded":""),children:[t.loggedIn?[Object(v.jsx)("div",{className:"menuIcon",onClick:function(){return r(!s)},children:Object(v.jsx)(I.a,{style:{color:"#d2d2d2"},sx:{fontSize:36},children:" "})})]:[Object(v.jsx)(S,{children:Object(v.jsx)("div",{className:"menuIcon",children:Object(v.jsx)(I.a,{style:{color:"#d2d2d2"},sx:{fontSize:36},children:" "})})})],s?Object(v.jsx)(W,{}):null]})};var G=function(e){return Object(v.jsxs)("div",{className:"tags",children:[Object(v.jsxs)("a",{href:"",children:["#",e.platform.tag1]}),Object(v.jsxs)("a",{href:"",children:["#",e.platform.tag2]}),Object(v.jsxs)("a",{href:"",children:["#",e.platform.tag3]})]})},Z=a(122),V=a.n(Z);var Y=function(e){var t,a=Object(o.e)(),n=Object(c.useState)(),s=Object(l.a)(n,2),r=s[0],i=s[1],j=Object(c.useState)(),b=Object(l.a)(j,2),d=b[0],O=b[1],m=Object(c.useState)(!1),p=Object(l.a)(m,2),f=(p[0],p[1]),x=Object(c.useState)(!1),N=Object(l.a)(x,2),y=N[0],S=N[1],C=Object(c.useState)(!1),k=Object(l.a)(C,2),I=k[0],w=k[1],E=function(){var e=Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F("/api/v1/subscribe",{userId:d._id,platformId:r._id});case 2:e.sent&&S(!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F("/api/v1/unsubscribe",{userId:d._id,platformId:r._id});case 2:e.sent&&S(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){e.platform&&i(e.platform),function(){var e=localStorage.getItem("data");e=JSON.parse(e),u.a.get("/api/v1/get_user?user_id="+e.id).then((function(e){return O(e.data)})).catch((function(e){f("No userdata")}))}()}),[e.platform]),Object(c.useEffect)((function(){if(d){var e=-1!=d.subscribedPlatforms.indexOf(r._id);S(e),d._id==r.userId&&w(!0)}}),[d]),void 0===r?Object(v.jsx)("div",{children:"LOADING.."}):(t=I?Object(v.jsx)("button",{disabled:!0,style:{color:"#d2d2d2",borderColor:"#d2d2d2"},children:"SUBSCRIBE"}):Object(v.jsx)("button",{style:y?{backgroundColor:"#00aeef",color:"white"}:{},onClick:y?q:E,children:y?"UNSUBSCRIBE":"SUBSCRIBE"}),Object(v.jsxs)("div",{className:"postArea",children:[Object(v.jsx)("div",{className:"banner",children:Object(v.jsx)("img",{src:r.banner&&""!=r.banner?r.banner:"./images/sample.jpeg"})}),Object(v.jsxs)("div",{className:"platformInfoArea",children:[Object(v.jsxs)("div",{className:"platformSettings",children:[Object(v.jsx)("span",{}),Object(v.jsx)("button",{style:I?{}:{display:"none"},type:"button",onClick:function(){a.push("/EditPlatform/"+r._id)},children:Object(v.jsx)(V.a,{sx:{fontSize:20}})})]}),Object(v.jsx)("img",{src:r.icon,alt:"platformprofile",style:{marginBottom:"20px"}}),Object(v.jsxs)("div",{className:"platformInfo",children:[Object(v.jsxs)("div",{className:"platformTop",children:[Object(v.jsx)("a",{href:"",Style:"color:"+r.fontColor,children:r.title}),Object(v.jsx)("span",{children:r.userName})]}),Object(v.jsx)("div",{className:"platformLine"}),Object(v.jsxs)("div",{className:"platformBottom",children:[Object(v.jsx)("span",{children:r.description}),t]})]})]})]}))};var K=function(e){var t=e.user,a=Object(c.useState)(e.questions),n=Object(l.a)(a,2),s=n[0],r=(n[1],Object(c.useState)(e.platformId)),i=Object(l.a)(r,2),j=i[0],b=(i[1],Object(c.useState)(e.user.level)),d=Object(l.a)(b,2),O=d[0],m=d[1],p=Object(c.useState)(3),f=Object(l.a)(p,1)[0],x=Object(c.useState)(!1),N=Object(l.a)(x,2),y=N[0],S=N[1],C=Object(c.useState)(),k=Object(l.a)(C,2),I=k[0],w=k[1],E=Object(c.useState)(!1),q=Object(l.a)(E,2),L=q[0],z=q[1],P=Object(c.useState)(!1),T=Object(l.a)(P,2),A=T[0],_=T[1],B=Object(c.useState)(),D=Object(l.a)(B,2),R=D[0],M=D[1],Q=Object(c.useState)(e.likes),U=Object(l.a)(Q,2),H=U[0],W=U[1],J=Object(o.e)();Object(c.useEffect)((function(){!function(){var t=e.user.exp+e.count*f;0<=t&&t<=15?(m(1),w(t/15*100),t/15*100>=100&&(m(O+1),S(!0),w((t/15*100-100)/49))):15<t&&t<=49?(m(2),w(t/49*100),t/49*100>=100&&(m(O+1),S(!0),w((t/49*100-100)/106))):49<t&&t<=106?(m(3),w(t/106*100),t/106*100>=100&&(m(O+1),S(!0),w((t/106*100-100)/198))):106<t&&t<=198?(m(4),w(t/198*100),t/198*100>=100&&(m(O+1),S(!0),w((t/198*100-100)/333))):198<t&&t<=333?(m(5),w(t/333*100),t/333*100>=100&&(m(O+1),S(!0),w((t/333*100-100)/705))):333<t&&t<=705?(m(6),w(t/705*100),t/705*100>=100&&(m(O+1),S(!0),w(99.9))):(m(7),w(99.9))}()}),[]),Object(c.useEffect)((function(){G()}),[O,I,y,A,L,H]);var G=function(){var a=Object(g.a)(h.a.mark((function a(){return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,F("/api/v1/editPoints",{userId:t._id,points:t.points-e.usedPoints+10*e.count,correct:t.correct+e.count,totalQuestions:t.totalQuestions+s.length,playCount:t.playCount+1,exp:t.exp+e.count*f,level:O});case 2:a.sent,u.a.get("/api/quizzes/get_quiz/"+e.quizID).then((function(e){M(e),console.log("entered quiz details")})).catch((function(e){console.log("Error loading quiz")}));case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),Z=function(){var t=Object(g.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F("/api/quizzes/editLikes",{quizId:e.quizID,likes:H});case 2:t.sent;case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),V=function(){var a=Object(g.a)(h.a.mark((function a(){return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,F("/api/recentquiz/record",{userID:t._id,quizID:e.quizID,name:R.data.title,correct:e.count,total:s.length});case 2:a.sent;case 3:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(c.useEffect)((function(){R&&V()}),[R]),Object(v.jsxs)("div",{className:"score",children:[Object(v.jsx)("div",{className:"scoreHeader",children:Object(v.jsxs)("div",{className:"quizScoreUserInfo",children:[Object(v.jsx)("div",{className:"centered",children:"Score"}),Object(v.jsx)("img",{className:"confetti",src:"/images/confetti.png",alt:"confetti"}),Object(v.jsx)("div",{className:"userImage2",children:Object(v.jsx)("img",{src:t.userImage})}),Object(v.jsxs)("div",{className:"userPreview2",children:[Object(v.jsx)("div",{className:"userTitle2",children:Object(v.jsx)("p",{style:{textAlign:"center"},children:t.title})}),Object(v.jsxs)("div",{className:"usernameBadge2",children:[Object(v.jsx)("img",{src:t.badge}),Object(v.jsx)("span",{children:t.username})]})]})]})}),Object(v.jsxs)("div",{className:"scoreText",children:[Object(v.jsx)("p",{children:"Questions Correct"}),Object(v.jsxs)("div",{className:"correctCount",children:[Object(v.jsx)("div",{className:"scoreInfoBlue",children:e.count}),Object(v.jsxs)("div",{className:"scoreInfo",children:["/",s.length]})]})]}),Object(v.jsxs)("div",{className:"scoreText",children:[Object(v.jsx)("p",{children:"Points Spent"}),Object(v.jsxs)("div",{className:"scoreInfo",children:["-",e.usedPoints]})]}),Object(v.jsxs)("div",{className:"scoreText",children:[Object(v.jsx)("p",{children:"Points Earned"}),Object(v.jsxs)("div",{className:"scoreInfoBlue",children:["+",10*e.count]})]}),Object(v.jsxs)("div",{className:"expAndLevel",children:[Object(v.jsxs)("div",{className:"levelUpInfo",children:[y?Object(v.jsx)("div",{className:"expCount",style:{textAlign:"left",opacity:"100%"},children:Object(v.jsx)("p",{children:"Level Up!"})}):Object(v.jsx)("div",{className:"expCount",style:{textAlign:"left",opacity:"0%"},children:Object(v.jsx)("p",{children:"Level Up!"})}),Object(v.jsx)("div",{className:"expCount",style:{textAlign:"right"},children:Object(v.jsxs)("p",{children:["+",e.count*f,"exp"]})})]}),Object(v.jsxs)("div",{className:"expBarWithLevel",children:[Object(v.jsxs)("p",{children:["Lv.",O]}),Object(v.jsx)("div",{className:"expBarContainer",children:Object(v.jsx)("div",{className:"expBar rate",style:{width:"".concat(I,"%")}})})]})]}),Object(v.jsxs)("div",{className:"rateQuizContents",children:[Object(v.jsx)("div",{className:"rateQuizText",children:"Rate this quiz!"}),Object(v.jsxs)("div",{className:"rateThumbs",children:[Object(v.jsx)("button",{disabled:L,onClick:function(){return z(!0),_(!1),void W(H+1)},children:Object(v.jsx)("img",{src:"/images/icon/thumb-up.png"})}),Object(v.jsx)("button",{disabled:A,onClick:function(){return z(!1),_(!0),void W(H-1)},children:Object(v.jsx)("img",{src:"/images/icon/thumb-down.png"})})]})]}),Object(v.jsx)("button",{type:"button",onClick:function(){console.log("back to platform page"),Z(),J.push("/platform/"+j)},children:"CLOSE"})]})};a(62);var X=function(e){var t=Object(c.useState)(e.time),a=Object(l.a)(t,1)[0],n=Object(c.useState)(0),s=Object(l.a)(n,2),r=s[0],i=s[1],o=Object(c.useState)(a),j=Object(l.a)(o,2),u=j[0],b=j[1],d=e.setTimeOut,O=e.timeOut,m=e.setDefaultTime;return Object(c.useEffect)((function(){var e=setInterval((function(){u>0&&(b(u-1),m(u-1)),0===u&&(0===r?(setInterval(0),clearInterval(e),d(!0)):(i(r-1),b(59),m(u-1)))}),1e3);return function(){clearInterval(e)}})),Object(c.useEffect)((function(){O||b(a)}),[O]),Object(c.useEffect)((function(){b(e.time)}),[e.time]),Object(v.jsxs)("div",{className:"timer",children:[Object(v.jsx)("img",{src:"/images/timer.png",alt:"timer"}),0===r&&0===u?Object(v.jsx)("p",{children:" 0:00 "}):Object(v.jsxs)("p",{children:[" ",r,":",u<10?"0".concat(u):u]})]})};var $=function(e){var t=e.correct,a=e.question.first,n=e.question.second,s=e.question.third,r=e.question.fourth,i=e.question.answer,o=Object(c.useState)(Math.round(a/(a+n+s+r)*100)),j=Object(l.a)(o,2),u=j[0],b=(j[1],Object(c.useState)(Math.round(n/(a+n+s+r)*100))),d=Object(l.a)(b,2),O=d[0],m=(d[1],Object(c.useState)(Math.round(s/(a+n+s+r)*100))),p=Object(l.a)(m,2),h=p[0],g=(p[1],Object(c.useState)(Math.round(r/(a+n+s+r)*100))),f=Object(l.a)(g,2),x=f[0];return f[1],1==i?t?Object(v.jsxs)("div",{className:"result",id:"result",children:[Object(v.jsx)("p",{children:"Correct!"}),isNaN(a+n+s+r)||a+n+s+r==0?Object(v.jsx)("p",{children:"0% of users got this question right"}):Object(v.jsxs)("p",{children:[u,"% of users got this question right"]})]}):Object(v.jsxs)("div",{className:"result",id:"result",children:[Object(v.jsx)("p",{children:"Wrong!"}),Object(v.jsxs)("p",{children:["Answer: ",i]}),isNaN(a+n+s+r)||a+n+s+r==0?Object(v.jsx)("p",{children:"0% of users got this question right"}):Object(v.jsxs)("p",{children:[u,"% of users got this question right"]})]}):2==i?t?Object(v.jsxs)("div",{className:"result",id:"result",children:[Object(v.jsx)("p",{children:"Correct!"}),isNaN(a+n+s+r)||a+n+s+r==0?Object(v.jsx)("p",{children:"0% of users got this question right"}):Object(v.jsxs)("p",{children:[O,"% of users got this question right"]})]}):Object(v.jsxs)("div",{className:"result",id:"result",children:[Object(v.jsx)("p",{children:"Wrong!"}),Object(v.jsxs)("p",{children:["Answer: ",i]}),isNaN(a+n+s+r)||a+n+s+r==0?Object(v.jsx)("p",{children:"0% of users got this question right"}):Object(v.jsxs)("p",{children:[O,"% of users got this question right"]})]}):3==i?t?Object(v.jsxs)("div",{className:"result",id:"result",children:[Object(v.jsx)("p",{children:"Correct!"}),isNaN(a+n+s+r)||a+n+s+r==0?Object(v.jsx)("p",{children:"0% of users got this question right"}):Object(v.jsxs)("p",{children:[h,"% of users got this question right"]})]}):Object(v.jsxs)("div",{className:"result",id:"result",children:[Object(v.jsx)("p",{children:"Wrong!"}),Object(v.jsxs)("p",{children:["Answer: ",i]}),isNaN(a+n+s+r)||a+n+s+r==0?Object(v.jsx)("p",{children:"0% of users got this question right"}):Object(v.jsxs)("p",{children:[h,"% of users got this question right"]})]}):t?Object(v.jsxs)("div",{className:"result",id:"result",children:[Object(v.jsx)("p",{children:"Correct!"}),isNaN(a+n+s+r)||a+n+s+r==0?Object(v.jsx)("p",{children:"0% of users got this question right"}):Object(v.jsxs)("p",{children:[x,"% of users got this question right"]})]}):Object(v.jsxs)("div",{className:"result",id:"result",children:[Object(v.jsx)("p",{children:"Wrong!"}),Object(v.jsxs)("p",{children:["Answer: ",i]}),isNaN(a+n+s+r)||a+n+s+r==0?Object(v.jsx)("p",{children:"0% of users got this question right"}):Object(v.jsxs)("p",{children:[x,"% of users got this question right"]})]})},ee=a(123),te=a.n(ee);var ae=function(e){var t=Object(c.useState)(),a=Object(l.a)(t,2),n=a[0],s=a[1],r=Object(c.useState)(0),i=Object(l.a)(r,2),o=i[0],j=i[1],b=Object(c.useState)(),d=Object(l.a)(b,2),O=d[0],m=d[1],p=Object(c.useState)(),f=Object(l.a)(p,2),x=f[0],N=f[1],y=Object(c.useState)(!1),S=Object(l.a)(y,2),C=S[0],k=S[1],I=Object(c.useState)(!1),w=Object(l.a)(I,2),E=w[0],q=w[1],L=Object(c.useState)(!1),z=Object(l.a)(L,2),P=z[0],T=z[1],A=Object(c.useState)(!1),_=Object(l.a)(A,2),B=_[0],D=_[1],R=Object(c.useState)(!1),M=Object(l.a)(R,2),Q=M[0],U=M[1],H=Object(c.useState)(),W=Object(l.a)(H,2),J=W[0],G=W[1],Z=Object(c.useState)(),V=Object(l.a)(Z,2),Y=V[0],ee=V[1],ae=Object(c.useState)(),ce=Object(l.a)(ae,2),ne=ce[0],se=ce[1],re=Object(c.useState)(),ie=Object(l.a)(re,2),oe=ie[0],le=ie[1],je=Object(c.useState)(0),ue=Object(l.a)(je,2),be=ue[0],de=ue[1],Oe=Object(c.useState)(),me=Object(l.a)(Oe,2),pe=me[0],he=me[1],ge=Object(c.useState)(!1),fe=Object(l.a)(ge,2),xe=(fe[0],fe[1]),ve=Object(c.useState)(!1),Ne=Object(l.a)(ve,2),ye=Ne[0],Se=Ne[1],Ce=Object(c.useState)(!1),ke=Object(l.a)(Ce,2),Ie=ke[0],we=ke[1],Ee=Object(c.useState)(10),qe=Object(l.a)(Ee,2),Le=qe[0],ze=qe[1],Pe=Object(c.useState)(0),Te=Object(l.a)(Pe,2),Ae=Te[0],_e=Te[1],Be=Object(c.useState)(0),De=Object(l.a)(Be,2),Re=De[0],Me=De[1],Fe=Object(c.useState)(0),Qe=Object(l.a)(Fe,2),Ue=Qe[0],He=Qe[1],We=Object(c.useState)(0),Je=Object(l.a)(We,2),Ge=Je[0],Ze=Je[1];Object(c.useEffect)((function(){u.a.get("/api/quizzes").then((function(t){var a=null===t||void 0===t?void 0:t.data;he(a.find((function(t){return t._id===e.question[0].quizId})).platformId),He(a.find((function(t){return t._id===e.question[0].quizId})).likes)})).catch((function(e){xe("Error finding quiz")}));var t=localStorage.getItem("data");t=JSON.parse(t),u.a.get("/api/v1/get_user?user_id="+t.id).then((function(e){return s(e.data)})).catch((function(e){xe("No userdata")}))}),[]),Object(c.useEffect)((function(){Me(0),e.question&&e.question.length>0&&(m(e.question),N(e.question[0]),G(e.question[0].first),ee(e.question[0].second),se(e.question[0].third),le(e.question[0].fourth))}),[e.question]),Object(c.useEffect)((function(){O&&(N(O[o]),G(x.first),ee(x.second),se(x.third),le(x.fourth),k(!1),Se(!1),ze(10),T(!1),D(!1),_e(0),Ze(0))}),[o]),Object(c.useEffect)((function(){ye&&k(!0),q(ye),T(ye),D(ye),_e(0)}),[ye]),Object(c.useEffect)((function(){3===Ae&&D(!0)}),[C,P,Ae,Ge]);var Ve=function(){var e=Object(g.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),q(!1),!C){e.next=7;break}return e.next=5,F("/api/questions/edit",{questionId:x._id,quizId:x.quizId,text:x.text,option:x.option,first:J,second:Y,third:ne,fourth:oe,questionNum:x.questionNum});case 5:e.sent,o<O.length-1?(j(o+1),k(!1),Se(!1),we(!1)):o===O.length-1&&(we(!1),U(!0));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return void 0===x?Object(v.jsx)("div",{children:"LOADING.."}):Q?Object(v.jsx)(K,{quizID:e.quizID,questions:O,count:be,platformId:pe,user:n,usedPoints:Re,likes:Ue}):Object(v.jsxs)("div",{className:"quizArea",children:[Object(v.jsxs)("div",{className:"quizHeader",children:[Object(v.jsxs)("p",{children:["Question ",o+1]}),Object(v.jsx)(X,{time:Le,timeOut:ye,setTimeOut:Se,setDefaultTime:ze})]}),Object(v.jsxs)("form",{className:"questions",children:[Object(v.jsx)("span",{className:"question",children:x.text},x._id),Object(v.jsx)("br",{}),Object(v.jsxs)("div",{className:"options",children:[x.option.length>=1?[Object(v.jsxs)("div",{className:"options-choice",style:1===Ge?Ie?{borderColor:"#00aeef"}:{borderColor:"red"}:C&&x.answer===x.option[0]?{borderColor:"#00aeef"}:null,children:[Object(v.jsx)("input",{type:"radio",id:"option1",name:"option",value:x.option[0],disabled:E}),Object(v.jsx)("label",{for:"option1",children:x.option[0]}),Object(v.jsx)("br",{})]})]:[],x.option.length>=2?[Object(v.jsxs)("div",{className:"options-choice",style:2===Ge?Ie?{borderColor:"#00aeef"}:{borderColor:"red"}:C&&x.answer===x.option[1]?{borderColor:"#00aeef"}:null,children:[Object(v.jsx)("input",{type:"radio",id:"option2",name:"option",value:x.option[1],disabled:E}),Object(v.jsx)("label",{for:"option2",children:x.option[1]}),Object(v.jsx)("br",{})]})]:[],x.option.length>=3?[Object(v.jsxs)("div",{className:"options-choice",style:3===Ge?Ie?{borderColor:"#00aeef"}:{borderColor:"red"}:C&&x.answer===x.option[2]?{borderColor:"#00aeef"}:null,children:[Object(v.jsx)("input",{type:"radio",id:"option3",name:"option",value:x.option[2],disabled:E}),Object(v.jsx)("label",{for:"option3",children:x.option[2]}),Object(v.jsx)("br",{})]})]:[],x.option.length>=4?[Object(v.jsxs)("div",{className:"options-choice",style:4===Ge?Ie?{borderColor:"#00aeef"}:{borderColor:"red"}:C&&x.answer===x.option[3]?{borderColor:"#00aeef"}:null,children:[Object(v.jsx)("input",{type:"radio",id:"option4",name:"option",value:x.option[3],disabled:E}),Object(v.jsx)("label",{for:"option4",children:x.option[3]}),Object(v.jsx)("br",{})]})]:[]]}),Object(v.jsxs)("div",{className:"questionButtons",children:[Object(v.jsx)("button",{className:"save",disabled:E,type:"submit",onClick:function(e){!function(e){e.preventDefault(),Se(!0);for(var t=document.getElementsByTagName("input"),a=0;a<t.length;a++)if("radio"===t[a].type)if(t[a].checked&&t[a].value===x.answer){q(!0),k(!0),Ze(a),de(be+1),we(!0),T(!0);var c=t[a].value;"1"===c?G(J+1):"2"===c?ee(Y+1):"3"===c?se(ne+1):"4"===c&&le(oe+1)}else if(t[a].checked){q(!0),k(!0),Ze(a);var n=t[a].value;"1"===n?G(J+1):"2"===n?ee(Y+1):"3"===n?se(ne+1):"4"===n&&le(oe+1)}}(e)},children:"SAVE"}),Object(v.jsxs)("div",{className:"pointButtons",children:[Object(v.jsxs)("button",{className:"addTime",disabled:P,onClick:function(e){!function(e){e.preventDefault(),ze(Le+5),Se(!1),Me(Re+50)}(e)},children:[Object(v.jsx)("img",{src:"/images/timer.png"}),"5s"]}),Object(v.jsxs)("button",{className:"hint",disabled:B,onClick:function(e){!function(e){e.preventDefault(),_e(Ae+1),Me(Re+50);var t=document.getElementsByTagName("input"),a=Math.floor(Math.random()*(t.length-1)+1);if("radio"===t[a].type&&t[a].value!==x.answer&&!0!==t[a].disabled)t[a].disabled=!0;else for(;;)if("radio"===t[a=Math.floor(Math.random()*(t.length-1)+1)].type&&t[a].value!==x.answer&&!0!==t[a].disabled)return void(t[a].disabled=!0)}(e)},children:[Object(v.jsx)("img",{src:"/images/big-light.png"}),"HINT"]})]}),Object(v.jsxs)("div",{className:"questionArrow",children:[Object(v.jsxs)("p",{children:[o+1," of ",O.length]}),Object(v.jsx)("button",{disabled:!E,onClick:function(e){Ve(e)},children:Object(v.jsx)(te.a,{sx:{fontSize:30}})})]})]})]}),C?Object(v.jsx)($,{question:x,correct:Ie}):null]})};function ce(){return Object(v.jsx)("div",{children:Object(v.jsx)("span",{children:"Loading..."})})}function ne(e){return Object(v.jsx)("div",{className:"alert alert-".concat(e.variant||"info"),children:e.children})}a(168);function se(){var e=Object(c.useRef)(!1);return Object(c.useEffect)((function(){return e.current=!0,function(){return e.current=!1}}),[]),e}var re=a(226),ie=a(230),oe=a(229),le=a(225),je=a(224),ue=a(228);var be=function(e){return Object(v.jsxs)("div",{className:"platformCards",children:[Object(v.jsx)(re.a,{sx:e.row?{maxWidth:100}:{maxWidth:400},variant:"outlined",children:Object(v.jsxs)(ue.a,{component:i.b,to:"/platform/".concat(e.platform._id),sx:!e.row&&{display:"flex",flexDirection:"row",alignItems:"center",width:"30rem"},children:[Object(v.jsx)(oe.a,{component:"img",sx:e.row?{width:100,height:100}:{width:100,height:100,padding:"1.5rem"},image:e.platform.banner&&""!=e.platform.banner?e.platform.banner:"/images/sample.jpeg",alt:"category"}),!e.row&&Object(v.jsxs)(je.a,{sx:{display:"flex",flexDirection:"column",width:"100%",justifyContent:"space-beween",padding:"1rem"},children:[Object(v.jsxs)(ie.a,{sx:{display:"flex",flexDirection:"column",padding:"0"},children:[Object(v.jsx)(le.a,{component:"div",variant:"h5",children:e.platform.title}),Object(v.jsx)(le.a,{variant:"subtitle1",color:"text.secondary",component:"div",children:e.platform.description})]}),Object(v.jsxs)(je.a,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",marginTop:"1rem",alignItems:"center"},children:[Object(v.jsx)(le.a,{variant:"subtitle1",color:"text.secondary",component:"div",children:e.platform.userName}),Object(v.jsxs)(le.a,{variant:"subtitle1",color:"text.secondary",component:"div",sx:{display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(v.jsx)("img",{src:"/images/icon/bell1.png",style:{width:"1.5rem",objectFit:"contain",marginRight:"0.3rem"}}),e.platform.subscriber.length]})]})]})]})}),Object(v.jsx)("br",{})]})};var de=function(e){return Object(v.jsx)("div",{className:"platformCard",style:e.row?{display:"flex",flexDirection:"row",alignItems:"flex-start",justifyContent:"space-evenly",width:"100%"}:{display:"flex",flexDirection:"column"},children:e.platforms.map((function(t){return Object(v.jsx)(be,{platform:t,row:e.row})}))})},Oe=a(223),me=a(124),pe=a.n(me);var he=function(e){var t=Object(o.e)(),a=Object(c.useState)(!1),n=Object(l.a)(a,2),s=n[0],r=n[1],j=Object(c.useState)(),b=Object(l.a)(j,2),d=b[0],O=b[1],m=Object(c.useState)(),p=Object(l.a)(m,2),h=p[0],g=p[1],f=Object(c.useState)(!1),x=Object(l.a)(f,2),N=(x[0],x[1]);return Object(c.useEffect)((function(){h&&d&&h._id==d.userId&&r(!0)})),Object(c.useEffect)((function(){e.quiz.platformId&&u.a.get("/api/platforms/by_id/"+e.quiz.platformId).then((function(e){O(e.data)})).catch((function(e){console.log(e)})),localStorage.getItem("data")&&function(){var e=localStorage.getItem("data");e=JSON.parse(e),u.a.get("/api/v1/get_user?user_id="+e.id).then((function(e){return g(e.data)})).catch((function(e){N("No userdata")}))}()}),[e.quiz]),Object(v.jsxs)("div",{children:[Object(v.jsx)(re.a,{sx:e.row?{maxWidth:100}:{maxWidth:400},variant:"outlined",children:Object(v.jsxs)(ue.a,{component:i.b,to:"/quiz/".concat(e.quiz._id),sx:{display:"flex",flexDirection:"row",alignItems:"center",width:"30rem"},children:[Object(v.jsx)(oe.a,{component:"img",sx:{width:100,height:100,padding:"1.5rem"},image:e.quiz.quizImage,alt:"thumbnail"}),Object(v.jsxs)(je.a,{sx:{display:"flex",flexDirection:"column",width:"100%",justifyContent:"space-beween",padding:"1rem"},children:[Object(v.jsxs)(ie.a,{sx:{display:"flex",flexDirection:"column",padding:"0"},children:[Object(v.jsx)(le.a,{component:"div",variant:"h5",children:e.quiz.title}),Object(v.jsx)(le.a,{variant:"subtitle1",color:"text.secondary",component:"div",children:e.quiz.description})]}),Object(v.jsxs)(je.a,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",marginTop:"1rem",alignItems:"center"},children:[Object(v.jsxs)(le.a,{className:"quizHeart",variant:"subtitle1",color:"text.secondary",sx:{display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(v.jsx)("img",{src:"/images/icon/like.png",style:{width:"1.5rem",objectFit:"contain",marginRight:"0.3rem"}}),e.quiz.likes]}),Object(v.jsxs)(Oe.a,{style:s?{color:"#00aeef"}:{display:"none"},onClick:function(){return t.push("/CreateQuestion/"+e.quiz._id)},children:[Object(v.jsx)(pe.a,{sx:{fontSize:20}}),"EDIT"]})]})]})]})}),Object(v.jsx)("br",{})]})},ge=a(216),fe=a(221),xe=a(218),ve=a(214),Ne=a(215);var ye=function(e){var t=Object(c.useContext)(b).store;return Object(v.jsx)(re.a,{sx:{maxWidth:300},children:Object(v.jsxs)(ue.a,{onClick:function(){t.setSearch(e.category.search)},component:i.b,to:e.category.route,children:[Object(v.jsx)(oe.a,{component:"img",height:"190",image:e.category.image,alt:"category"}),Object(v.jsxs)(ie.a,{className:"cardContent",children:[Object(v.jsx)("img",{className:"categoryIcon",src:e.category.icon,alt:"icon"}),Object(v.jsx)(le.a,{variant:"h5",component:"div",style:{fontSize:"2rem",fontFamily:"oswald-light"},children:e.category.name})]})]})})};a(171),a(172),a(173),a(174);xe.a.use([ve.a,Ne.a]);var Se=function(){for(var e=[],t=[{name:"Music",image:"/images/category/category_music.jpg",icon:"/images/category/icon/music.png",route:"/search",search:"music"},{name:"Movie",image:"/images/category/category_movie.jpg",icon:"/images/category/icon/pop-corn.png",route:"/search",search:"movie"},{name:"Game",image:"/images/category/category_game.jpg",icon:"/images/category/icon/console.png",route:"/search",search:"game"}].concat([{name:"History",image:"/images/category/category_history.jpg",icon:"/images/category/icon/book.png",route:"/search",search:"history"},{name:"Science",image:"/images/category/category_science.jpg",icon:"/images/category/icon/science.png",route:"/search",search:"science"},{name:"Literature",image:"/images/category/category_literature.jpg",icon:"/images/category/icon/literature.png",route:"/search",search:"literature"}],[{name:"Soccer",image:"/images/category/category_soccer.jpg",icon:"/images/category/icon/football.png",route:"/search",search:"soccer"},{name:"Olympics",image:"/images/category/category_olympics.jpg",icon:"/images/category/icon/olympic-games.png",route:"/search",search:"olympics"},{name:"Baseball",image:"/images/category/category_baseball.jpg",icon:"/images/category/icon/baseball-ball.png",route:"/search",search:"baseball"}]),a=0;a<8;a+=1)e.push(Object(v.jsx)(ge.a,{children:Object(v.jsx)(ye,{category:t[a]})},"slide-".concat(a)));return Object(v.jsxs)("div",{className:"swipercategories",children:[Object(v.jsx)("p",{style:{fontSize:"2.5rem",textAlign:"center",padding:"0"},children:"Categories"}),Object(v.jsx)(fe.a,{style:{width:"50rem",height:"35rem"},grabCursor:"true",centeredSlides:"true",spaceBetween:30,slidesPerView:2,lazy:!0,navigation:!0,pagination:{clickable:!0,dynamicBullets:!1},loop:!0,children:e})]})},Ce=a(33),ke=a.n(Ce);function Ie(e){return Object(c.useEffect)((function(){}),[e.currentItems]),Object(v.jsx)(v.Fragment,{children:e.currentItems&&Object(v.jsx)(de,{platforms:e.currentItems,row:e.row})})}var we=function(e){var t=Object(c.useState)(null),a=Object(l.a)(t,2),n=a[0],s=a[1],r=Object(c.useState)(0),i=Object(l.a)(r,2),o=i[0],j=i[1],u=Object(c.useState)(e.itemsPerPage),b=Object(l.a)(u,2),d=(b[0],b[1],Object(c.useState)(e.items)),O=Object(l.a)(d,2),m=(O[0],O[1],Object(c.useState)(0)),p=Object(l.a)(m,2),h=p[0],g=p[1];return Object(c.useEffect)((function(){}),[n]),Object(c.useEffect)((function(){if(e.items){var t=h+e.itemsPerPage;console.log("Loading items from ".concat(h," to ").concat(t)),s(e.items.slice(h,t)),j(Math.ceil(e.items.length/e.itemsPerPage))}}),[h,e.itemsPerPage]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Ie,{currentItems:n,row:e.row}),Object(v.jsx)(ke.a,{nextLabel:">",onPageChange:function(t){var a=t.selected*e.itemsPerPage%e.items.length;console.log("User requested page number ".concat(t.selected,", which is offset ").concat(a)),g(a)},pageRangeDisplayed:3,marginPagesDisplayed:2,pageCount:o,previousLabel:"<",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link",containerClassName:"pagination",activeClassName:"active",renderOnZeroPageCount:null})]})};var Ee=function(e){var t=Object(c.useState)([]),a=Object(l.a)(t,2),n=a[0],s=a[1],r=Object(c.useState)([]),i=Object(l.a)(r,2),o=i[0],j=i[1],b=Object(c.useState)(!0),d=Object(l.a)(b,2),O=d[0],m=d[1],p=Object(c.useState)(!1),h=Object(l.a)(p,2),g=h[0],f=h[1],x=Object(c.useState)(null),N=Object(l.a)(x,2),y=N[0],S=N[1],C=Object(c.useState)(0),k=Object(l.a)(C,2),I=k[0],w=k[1],E=Object(c.useState)(3),q=Object(l.a)(E,2),L=q[0],z=(q[1],Object(c.useState)(0)),P=Object(l.a)(z,2),T=P[0],A=P[1],_=Object(c.useState)(null),B=Object(l.a)(_,2),D=B[0],R=B[1],M=Object(c.useState)(0),F=Object(l.a)(M,2),Q=F[0],U=F[1],H=Object(c.useState)(3),W=Object(l.a)(H,2),J=W[0],G=(W[1],Object(c.useState)(0)),Z=Object(l.a)(G,2),V=Z[0],Y=Z[1];function K(e){return Object(v.jsx)(v.Fragment,{children:e.currentItems&&Object(v.jsx)(de,{platforms:e.currentItems,row:e.row})})}function X(e){return Object(v.jsx)(v.Fragment,{children:e.currentItems&&e.currentItems.map((function(e){return Object(v.jsx)(he,{quiz:e})}))})}return Object(c.useEffect)((function(){u.a.get("/api/platforms").then((function(e){return s(null===e||void 0===e?void 0:e.data.slice(0,9)),S(null===e||void 0===e?void 0:e.data),m(!1),e.data})).catch((function(e){f("Error loading home page"),m(!1),console.log("Error loading home page")})),u.a.get("/api/quizzes").then((function(e){return m(!0),j(null===e||void 0===e?void 0:e.data.sort((function(e,t){return t.likes-e.likes})).slice(0,9)),m(!1),null===e||void 0===e?void 0:e.data})).catch((function(e){f("Error loading home page"),m(!1),console.log("Error loading home page")}))}),[]),Object(c.useEffect)((function(){var e=T+L;console.log("Loading items from ".concat(T," to ").concat(e)),S(n.slice(T,e)),w(Math.ceil(n.length/L))}),[n]),Object(c.useEffect)((function(){}),[y,D]),Object(c.useEffect)((function(){var e=T+L;console.log("Loading items from ".concat(T," to ").concat(e)),S(n.slice(T,e)),w(Math.ceil(n.length/L))}),[T,L]),Object(c.useEffect)((function(){var e=V+J;console.log("Loading items from ".concat(V," to ").concat(e)),R(o.slice(V,e)),U(Math.ceil(o.length/J))}),[o]),Object(c.useEffect)((function(){var e=V+J;console.log("Loading items from ".concat(V," to ").concat(e)),R(o.slice(V,e)),U(Math.ceil(o.length/J))}),[V,J]),Object(v.jsx)("div",{children:O?Object(v.jsx)(ce,{}):g?Object(v.jsx)(ne,{variant:"danger",children:g}):Object(v.jsxs)("div",{children:[Object(v.jsx)(Se,{}),Object(v.jsx)("div",{className:"homescreenLine"}),Object(v.jsxs)("div",{className:"homeItems",children:[Object(v.jsxs)("div",{className:"latestQuiz",children:[Object(v.jsx)("p",{style:{textAlign:"center",color:"#929292"},children:"Popular Quizzes"}),Object(v.jsx)("div",{className:"line"}),Object(v.jsx)(X,{currentItems:D}),Object(v.jsx)(ke.a,{nextLabel:">",onPageChange:function(e){var t=e.selected*J%o.length;console.log("User requested page number ".concat(e.selected,", which is offset ").concat(t)),Y(t)},pageRangeDisplayed:3,marginPagesDisplayed:2,pageCount:Q,previousLabel:"<",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link",containerClassName:"pagination",activeClassName:"active",renderOnZeroPageCount:null})]}),Object(v.jsxs)("div",{className:"trendingPlatform",children:[Object(v.jsx)("p",{style:{textAlign:"center",color:"#929292"},children:"Latest Platforms"}),Object(v.jsx)("div",{className:"line"}),Object(v.jsx)(K,{currentItems:y,row:!1}),Object(v.jsx)(ke.a,{nextLabel:">",onPageChange:function(e){var t=e.selected*L%n.length;console.log("User requested page number ".concat(e.selected,", which is offset ").concat(t)),A(t)},pageRangeDisplayed:3,marginPagesDisplayed:2,pageCount:I,previousLabel:"<",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link",containerClassName:"pagination",activeClassName:"active",renderOnZeroPageCount:null})]})]})]})})},qe=a(22);var Le=function(e){var t=Object(c.useState)(),a=Object(l.a)(t,2),n=(a[0],a[1],Object(c.useState)([])),s=Object(l.a)(n,2),r=s[0],i=s[1],j=Object(c.useState)(!1),b=Object(l.a)(j,2),d=b[0],O=b[1],m=Object(c.useState)(!1),p=Object(l.a)(m,2),h=p[0],g=p[1],f=Object(c.useState)(!1),x=Object(l.a)(f,2),N=(x[0],x[1]),y=Object(c.useState)(),S=Object(l.a)(y,2),C=S[0],k=S[1],I=Object(c.useState)(),w=Object(l.a)(I,2),E=w[0],q=w[1],L=Object(c.useState)(),z=Object(l.a)(L,2),P=z[0],T=z[1],A=se(),_=(Object(o.e)(),Object(c.useState)(null)),B=Object(l.a)(_,2),D=B[0],R=B[1],M=Object(c.useState)(0),F=Object(l.a)(M,2),Q=F[0],U=F[1],H=Object(c.useState)(3),W=Object(l.a)(H,2),J=W[0],G=(W[1],Object(c.useState)(0)),Z=Object(l.a)(G,2),V=Z[0],Y=Z[1];function K(e){return Object(v.jsx)(v.Fragment,{children:e.currentItems&&e.currentItems.map((function(e){return Object(v.jsx)(he,{quiz:e})}))})}return Object(c.useEffect)((function(){E&&C&&E._id==C.userId&&N(!0)})),Object(c.useEffect)((function(){var e=V+J;console.log("Loading items from ".concat(V," to ").concat(e)),R(r.slice(V,e)),U(Math.ceil(r.length/J))}),[r]),Object(c.useEffect)((function(){}),[D]),Object(c.useEffect)((function(){var e=V+J;console.log("Loading items from ".concat(V," to ").concat(e)),R(r.slice(V,e)),U(Math.ceil(r.length/J))}),[V,J]),Object(c.useEffect)((function(){return A.current=!0,function(){A.current=!1}}),[]),Object(c.useEffect)((function(){e.platformId&&u.a.get("/api/platforms/by_id/"+e.platformId).then((function(e){k(e.data)})).catch((function(e){console.log(e)})),function(){var e=localStorage.getItem("data");e=JSON.parse(e),u.a.get("/api/v1/get_user?user_id="+e.id).then((function(e){return q(e.data)})).catch((function(e){g("No userdata")}))}(),e.platformId&&u.a.get("/api/quizzes/"+e.platformId).then((function(e){if(O(!0),A.current){var t=e.data;i(t);var a=Math.max.apply(Math,Object(qe.a)(t.map((function(e){return e.likes}))));return T(t.filter((function(e){return e.likes===a}))),void O(!1)}})).catch((function(e){g("Error loading quiz"),O(!1),console.log("Error loading quiz")}))}),[e.platformId]),Object(v.jsx)("div",{className:"quizCardArea",children:d?Object(v.jsx)(ce,{}):h?Object(v.jsx)(ne,{variant:"danger",children:h}):Object(v.jsx)("div",{className:"platformQuiz",children:e.onlyTopQuiz?!!P&&P.map((function(e){return Object(v.jsx)(he,{quiz:e})})):Object(v.jsxs)("div",{className:"platformQuiz2",children:[Object(v.jsx)(K,{currentItems:D}),Object(v.jsx)(ke.a,{nextLabel:">",onPageChange:function(e){var t=e.selected*J%r.length;console.log("User requested page number ".concat(e.selected,", which is offset ").concat(t)),Y(t)},pageRangeDisplayed:3,marginPagesDisplayed:2,pageCount:Q,previousLabel:"<",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link",containerClassName:"pagination",activeClassName:"active",renderOnZeroPageCount:null})]})})})};var ze=function(e){var t=Object(c.useState)([]),a=Object(l.a)(t,2),n=a[0],s=a[1],r=Object(c.useState)(!0),i=Object(l.a)(r,2),o=i[0],j=i[1],b=Object(c.useState)(!1),d=Object(l.a)(b,2),O=d[0],m=d[1],p=Object(c.useState)(),h=Object(l.a)(p,2),g=(h[0],h[1],Object(c.useState)()),f=Object(l.a)(g,2);return f[0],f[1],Object(c.useEffect)((function(){e.match.params.quizId&&u.a.get("/api/questions/get_question/"+e.match.params.quizId).then((function(e){j(!0),s(e.data),j(!1)})).catch((function(e){m("Error loading quiz"),j(!1),console.log("Error loading quiz")}))}),[]),Object(v.jsx)("div",{children:o?Object(v.jsx)(ce,{}):O?Object(v.jsx)(ne,{variant:"danger",children:O}):Object(v.jsx)("div",{className:"platformQuizTake",children:n&&n.length>0?Object(v.jsx)(ae,{quizID:e.match.params.quizId,question:n}):Object(v.jsx)(v.Fragment,{})})})};var Pe=a(68),Te=a.n(Pe);var Ae=function(e){var t=Object(c.useState)(["001","002"]),a=Object(l.a)(t,2),n=(a[0],a[1],Object(c.useState)(!1)),s=Object(l.a)(n,2),r=s[0],i=s[1],j=Object(c.useState)(!1),b=Object(l.a)(j,2),d=b[0],O=b[1],m=Object(c.useState)(),p=Object(l.a)(m,2),h=p[0],g=p[1],f=Object(c.useState)(),x=Object(l.a)(f,2),N=x[0],y=x[1],S=Object(c.useState)(),C=Object(l.a)(S,2),k=(C[0],C[1],se()),I=Object(c.useState)(!1),w=Object(l.a)(I,2),E=w[0],q=w[1],L=Object(o.e)();return Object(c.useEffect)((function(){N&&h&&N._id==h.userId&&q(!0)})),Object(c.useEffect)((function(){return k.current=!0,u.a.get("/api/platforms").then((function(t){if(k.current)return i(!0),console.log(e.match.params.id),g(t.data.find((function(t){return t._id===e.match.params.id}))),void i(!1)})).catch((function(e){O("Error loading platform"),i(!1),console.log("Error loading platform")})),function(){var e=localStorage.getItem("data");e=JSON.parse(e),u.a.get("/api/v1/get_user?user_id="+e.id).then((function(e){return y(e.data)})).catch((function(e){O("No userdata")}))}(),function(){k.current=!1}}),[]),Object(v.jsx)("div",{children:r?Object(v.jsx)(ce,{}):d?Object(v.jsx)(ne,{variant:"danger",children:d}):Object(v.jsxs)("div",{className:"platform",children:[h&&Object(v.jsx)(G,{platform:h}),h&&Object(v.jsx)(Y,{platform:h}),Object(v.jsxs)("div",{className:"platformContentArea2",children:[Object(v.jsxs)("button",{className:"createQuizButton",style:E?{}:{display:"none"},onClick:function(){return L.push("/CreateQuiz/"+e.match.params.id)},children:[Object(v.jsx)(Te.a,{sx:{fontSize:20,color:"#00aeef"}})," Add Quiz"]}),Object(v.jsxs)("div",{className:"platformContentArea",children:[Object(v.jsxs)("div",{className:"platformQuizHeader",children:[Object(v.jsx)("p",{children:"Quiz"}),Object(v.jsx)("div",{className:"linePlatform"}),Object(v.jsx)(Le,{platformId:h?h._id:null,onlyTopQuiz:!1})]}),Object(v.jsxs)("div",{className:"topRatedQuiz",children:[Object(v.jsx)("p",{children:"Top Rated"}),Object(v.jsx)("div",{className:"linePlatform2"}),Object(v.jsx)(Le,{platformId:h?h._id:null,onlyTopQuiz:!0})]})]})]})]})})};var _e=function(e){var t=Object(c.useContext)(b).store,a=Object(c.useState)([]),n=Object(l.a)(a,2),s=(n[0],n[1]),r=Object(c.useState)(!1),j=Object(l.a)(r,2),d=j[0],O=j[1],m=Object(c.useState)(!1),p=Object(l.a)(m,2),f=p[0],x=p[1],N=Object(c.useState)(null),y=Object(l.a)(N,2),S=(y[0],y[1],Object(c.useState)()),C=Object(l.a)(S,2),k=C[0],I=C[1],w=Object(c.useState)("0"),E=Object(l.a)(w,2),q=(E[0],E[1],Object(c.useState)(t.username)),L=Object(l.a)(q,2),z=L[0],P=L[1],T=Object(c.useState)(""),A=Object(l.a)(T,2),_=A[0],B=A[1],D=Object(c.useState)(""),R=Object(l.a)(D,2),M=R[0],F=R[1],Q=Object(c.useState)(""),H=Object(l.a)(Q,2),W=H[0],J=H[1],G=Object(c.useState)("/images/noimage.png"),Z=Object(l.a)(G,2),V=Z[0],Y=Z[1],K=Object(c.useState)(""),X=Object(l.a)(K,2),$=(X[0],X[1],Object(c.useState)("")),ee=Object(l.a)($,2),te=ee[0],ae=ee[1],se=Object(c.useState)("/images/noimage.png"),re=Object(l.a)(se,2),ie=re[0],oe=re[1],le=Object(c.useState)(),je=Object(l.a)(le,2),ue=je[0],be=je[1],de=Object(c.useState)(""),Oe=Object(l.a)(de,2),me=Oe[0],pe=Oe[1],he=Object(c.useState)(""),ge=Object(l.a)(he,2),fe=ge[0],xe=ge[1],ve=Object(c.useState)(""),Ne=Object(l.a)(ve,2),ye=Ne[0],Se=Ne[1],Ce=Object(c.useState)(""),ke=Object(l.a)(Ce,2),Ie=ke[0],we=ke[1],Ee=Object(c.useState)(),qe=Object(l.a)(Ee,2),Le=qe[0],ze=qe[1],Pe=Object(o.e)();Object(c.useEffect)((function(){var e=function(){var e=Object(g.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O(!0),e.next=4,u.a.get("/api/platforms");case 4:t=e.sent,a=t.data,O(!1),s(JSON.stringify(a)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),x(e.t0.message),O(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(c.useEffect)((function(){P(t.username),function(){var e=localStorage.getItem("data");e=JSON.parse(e),u.a.get("/api/v1/get_user?user_id="+e.id).then((function(e){return ze(e.data)})).catch((function(e){x("No userdata")}))}()}),[t]);var Te=function(){var e=Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U("/api/platforms/insert",[W,te],{userId:Le._id,userName:z,title:_,description:M,fontColor:me,tag1:fe,tag2:ye,tag3:Ie});case 2:e.sent,alert("platform created!"),Pe.push("/");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsx)("div",{className:"create-plaform-main",children:Object(v.jsxs)("div",{children:[d&&Object(v.jsx)(ce,{}),f&&Object(v.jsx)(ne,{variant:"danger",children:f}),Object(v.jsxs)("div",{className:"tags",children:[Object(v.jsx)("input",{className:"tag-input",value:fe,onChange:function(e){return xe(e.target.value)},placeholder:"Tag1"}),Object(v.jsx)("input",{className:"tag-input",value:ye,onChange:function(e){return Se(e.target.value)},placeholder:"Tag2"}),Object(v.jsx)("input",{className:"tag-input",value:Ie,onChange:function(e){return we(e.target.value)},placeholder:"Tag3"})]}),Object(v.jsxs)("div",{className:"postArea",children:[Object(v.jsx)("input",{ref:function(e){return I(e)},id:"file-input",className:"cp-banner-input",type:"file",onChange:function(e){Y(URL.createObjectURL(e.target.files[0])),J(e.target.files[0])}}),Object(v.jsx)("div",{className:"cp-banner",style:{backgroundImage:"url(".concat(V,")")},onClick:function(){k&&k.click()}}),Object(v.jsxs)("div",{className:"cp-platformInfoArea",children:[Object(v.jsx)("img",{src:ie,onClick:function(){ue&&ue.click()},style:{border:"1px solid #d2d2d2"}}),Object(v.jsx)("input",{ref:function(e){return be(e)},id:"file-input",type:"file",onChange:function(e){oe(URL.createObjectURL(e.target.files[0])),ae(e.target.files[0])},style:{display:"none"}}),Object(v.jsxs)("div",{className:"cp-platformInfo",children:[Object(v.jsxs)("div",{className:"cp-platformTop",children:[Object(v.jsx)("input",{value:_,onChange:function(e){return B(e.target.value)},placeholder:"Title",style:{fontSize:"40px",width:"70%"}}),Object(v.jsxs)("div",{className:"cp-fontcolor",children:[Object(v.jsx)("p",{children:"Font Color"}),Object(v.jsx)("input",{type:"color",value:me,onChange:function(e){return pe(e.target.value)}})]}),Object(v.jsx)("span",{children:t.username})]}),Object(v.jsx)("div",{className:"platformLine"}),Object(v.jsxs)("div",{className:"platformBottom",children:[Object(v.jsx)("input",{value:M,onChange:function(e){return F(e.target.value)},placeholder:"description",style:{fontSize:"1.5rem",width:"70%"}}),Object(v.jsx)("button",{children:"SUBSCRIBE"})]})]})]})]}),Object(v.jsxs)("div",{className:"cp-buttons",children:[Object(v.jsx)("button",{component:i.b,to:"/",className:"asd",onClick:Te,style:{backgroundColor:"#00aeef",color:"white",float:"right"},children:"SAVE"}),Object(v.jsx)("button",{onClick:function(){return Pe.goBack()},style:{backgroundColor:"transparent",borderColor:"#929292",color:"#929292"},children:"CANCEL"})]})]})})};var Be=function(){return Object(v.jsxs)("div",{className:"categories",children:[Object(v.jsx)("h1",{children:"Categories"}),Object(v.jsxs)("div",{className:"subCategories",children:[Object(v.jsx)("h2",{children:"Entertainment"}),Object(v.jsx)("div",{className:"categoryItems",children:[{name:"Music",image:"/images/category/category_music.jpg",icon:"/images/category/icon/music.png",route:"/search",search:"music"},{name:"Movie",image:"/images/category/category_movie.jpg",icon:"/images/category/icon/pop-corn.png",route:"/search",search:"movie"},{name:"Game",image:"/images/category/category_game.jpg",icon:"/images/category/icon/console.png",route:"/search",search:"game"}].map((function(e){return Object(v.jsx)("div",{className:"flex-item",children:Object(v.jsx)(ye,{category:e})})}))})]}),Object(v.jsxs)("div",{className:"subCategories",children:[Object(v.jsx)("h2",{children:"Educational"}),Object(v.jsx)("div",{className:"categoryItems",children:[{name:"History",image:"/images/category/category_history.jpg",icon:"/images/category/icon/book.png",route:"/search",search:"history"},{name:"Science",image:"/images/category/category_science.jpg",icon:"/images/category/icon/science.png",route:"/search",search:"science"},{name:"Literature",image:"/images/category/category_literature.jpg",icon:"/images/category/icon/literature.png",route:"/search",search:"literature"}].map((function(e){return Object(v.jsx)("div",{className:"flex-item",children:Object(v.jsx)(ye,{category:e})})}))})]}),Object(v.jsxs)("div",{className:"subCategories",children:[Object(v.jsx)("h2",{children:"Sports"}),Object(v.jsx)("div",{className:"categoryItems",children:[{name:"Soccer",image:"/images/category/category_soccer.jpg",icon:"/images/category/icon/football.png",route:"/search",search:"soccer"},{name:"Olympics",image:"/images/category/category_olympics.jpg",icon:"/images/category/icon/olympic-games.png",route:"/search",search:"olympics"},{name:"Baseball",image:"/images/category/category_baseball.jpg",icon:"/images/category/icon/baseball-ball.png",route:"/search",search:"baseball"}].map((function(e){return Object(v.jsx)("div",{className:"flex-item",children:Object(v.jsx)(ye,{category:e})})}))})]})]})};var De=function(e){return Object(c.useEffect)((function(){}),[e]),Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(de,{platforms:e.currentItems,row:e.row})})};var Re=function(e){Object(c.useContext)(b).store;var t=Object(c.useState)(!1),a=Object(l.a)(t,2),n=a[0],s=a[1],r=Object(c.useState)(!1),i=Object(l.a)(r,2),j=(i[0],i[1]),d=Object(c.useState)(""),O=Object(l.a)(d,2),m=O[0],p=O[1],f=Object(c.useState)([]),x=Object(l.a)(f,2),N=x[0],y=x[1],S=Object(c.useState)(),C=Object(l.a)(S,2),k=C[0],I=C[1],w=Object(c.useState)(""),E=Object(l.a)(w,2),q=E[0],L=E[1],z=Object(c.useState)(),P=Object(l.a)(z,2),T=(P[0],P[1]),A=Object(c.useState)(),_=Object(l.a)(A,2),B=_[0],D=_[1],R=Object(c.useState)(""),M=Object(l.a)(R,2),F=M[0],Q=M[1],U=Object(c.useState)(""),H=Object(l.a)(U,2),W=H[0],J=H[1],G=Object(c.useState)(""),Z=Object(l.a)(G,2),V=Z[0],Y=Z[1],K=Object(c.useState)(),X=Object(l.a)(K,2),$=X[0],ee=X[1],te=Object(c.useState)(),ae=Object(l.a)(te,2),ne=ae[0],se=ae[1],re=Object(c.useState)([]),ie=Object(l.a)(re,2),oe=ie[0],le=ie[1],je=[15,49,106,198,333,705,9999],ue=Object(c.useState)(""),be=Object(l.a)(ue,2),de=be[0],Oe=be[1],me=Object(c.useState)(),pe=Object(l.a)(me,2),he=pe[0],ge=pe[1],fe=Object(o.e)(),xe=Object(c.useState)(null),ve=Object(l.a)(xe,2),Ne=ve[0],ye=ve[1],Se=Object(c.useState)(0),Ce=Object(l.a)(Se,2),Ie=Ce[0],we=Ce[1],Ee=Object(c.useState)(4),Le=Object(l.a)(Ee,2),ze=Le[0],Pe=(Le[1],Object(c.useState)(0)),Te=Object(l.a)(Pe,2),Ae=Te[0],_e=Te[1],Be=Object(c.useState)(null),Re=Object(l.a)(Be,2),Me=Re[0],Fe=Re[1],Qe=Object(c.useState)(0),Ue=Object(l.a)(Qe,2),He=Ue[0],We=Ue[1],Je=Object(c.useState)(0),Ge=Object(l.a)(Je,2),Ze=Ge[0],Ve=Ge[1];return Object(c.useEffect)((function(){var e=localStorage.getItem("data");e=JSON.parse(e),u.a.get("/api/v1/get_user?user_id="+e.id).then((function(e){return I(e.data)})).catch((function(e){j("No userdata")}))}),[fe.location.pathname]),Object(c.useEffect)((function(){if(k){k&&(p(k.username),L(k.title),T(k.exp),D(k.points),Q(k.totalQuestions),J(k.correct),Y(k.badge),ee(k.level),se(k.exp/je[k.level-1]*100),Oe(k.userImage),ge(k.playCount));var e=function(){var e=Object(g.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,u.a.get("/api/platforms/"+k._id);case 3:t=e.sent,a=t.data,s(!1),y(a),k.subscribedPlatforms.map((function(e,t){var a;a=e,u.a.get("/api/platforms/by_id/"+a).then((function(e){oe.push(e.data),console.log("!!",oe),le(Object(qe.a)(oe))})).catch((function(e){j("No userdata")}))})),console.log("?",oe),console.log("platforms",N);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[k]),Object(c.useEffect)((function(){var e=Ae+ze;console.log("Loading items from ".concat(Ae," to ").concat(e)),ye(N.slice(Ae,e)),we(Math.ceil(N.length/ze))}),[N]),Object(c.useEffect)((function(){var e=Ae+ze;console.log("Loading items from ".concat(Ae," to ").concat(e)),ye(N.slice(Ae,e)),we(Math.ceil(N.length/ze))}),[Ae]),Object(c.useEffect)((function(){}),[Ne,Me]),Object(c.useEffect)((function(){var e=Ze+ze;console.log("Loading items from ".concat(Ze," to ").concat(e)),Fe(oe.slice(Ze,e)),We(Math.ceil(oe.length/ze))}),[oe]),Object(c.useEffect)((function(){var e=Ze+ze;console.log("Loading items from ".concat(Ze," to ").concat(e)),Fe(oe.slice(Ze,e)),We(Math.ceil(oe.length/ze))}),[Ze]),Object(v.jsxs)("div",{children:[n&&Object(v.jsx)(ce,{}),Object(v.jsxs)("div",{className:"myPage",children:[Object(v.jsxs)("div",{className:"sideArea",children:[Object(v.jsx)("div",{className:"settingsGear",children:Object(v.jsx)("button",{onClick:function(){return fe.push("/ProfileSetting/".concat(k._id))},children:Object(v.jsx)("img",{src:"/images/icon/gear.png"})})}),Object(v.jsxs)("div",{className:"sideAreaInfo",children:[Object(v.jsx)("div",{className:"profileImage",children:Object(v.jsx)("img",{src:de,alt:"profile"})}),Object(v.jsxs)("div",{className:"userPreview",children:[Object(v.jsx)("div",{className:"userTitle",children:Object(v.jsx)("p",{style:{textAlign:"center"},children:q})}),Object(v.jsxs)("div",{className:"usernameBadgeMyPage",children:[Object(v.jsx)("img",{src:V}),Object(v.jsx)("span",{children:m})]})]}),Object(v.jsxs)("div",{className:"expBarWithLevel2",children:[Object(v.jsxs)("p",{children:["Lv.",$]}),Object(v.jsx)("div",{className:"expBarContainer2",children:Object(v.jsx)("div",{className:"expBar2",style:{width:"".concat(ne,"%")}})})]})]})]}),Object(v.jsxs)("div",{className:"myPageDetails",children:[Object(v.jsxs)("div",{className:"myPageDetailsList",children:[Object(v.jsxs)("div",{className:"myPageDetailsListTitle",children:[Object(v.jsx)("p",{children:"STATS"}),Object(v.jsx)("div",{className:"lineStats"})]}),Object(v.jsxs)("div",{className:"myPageStats",children:[Object(v.jsxs)("div",{className:"myPageStatsInfo",children:[Object(v.jsx)("p",{children:"ACCURACY"}),Object(v.jsxs)("h1",{children:[Math.round(0!=F?W/F*100:0),"%"]})]}),Object(v.jsxs)("div",{className:"myPageStatsInfo",children:[Object(v.jsx)("p",{children:"PLAY COUNT"}),Object(v.jsx)("h1",{children:he})]}),Object(v.jsxs)("div",{className:"myPageStatsInfo",children:[Object(v.jsx)("p",{children:"TITLE"}),Object(v.jsx)("h1",{children:q})]}),Object(v.jsxs)("div",{className:"myPageStatsInfo",children:[Object(v.jsx)("p",{children:"POINTS"}),Object(v.jsxs)("h1",{children:[B,"p"]})]})]})]}),Object(v.jsxs)("div",{className:"myPageDetailsList2",children:[Object(v.jsxs)("div",{className:"myPagePlatformsHeader",children:[Object(v.jsx)("p",{children:"OWNED PLATFORMS"}),Object(v.jsx)("div",{className:"linePlatforms"})]}),Ne&&Object(v.jsx)(De,{currentItems:Ne,row:!0}),Object(v.jsx)(ke.a,{nextLabel:">",onPageChange:function(e){var t=e.selected*ze%N.length;console.log("User requested page number ".concat(e.selected,", which is offset ").concat(t)),_e(t)},pageRangeDisplayed:3,marginPagesDisplayed:2,pageCount:Ie,previousLabel:"<",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link",containerClassName:"pagination",activeClassName:"active",renderOnZeroPageCount:null})]}),Object(v.jsxs)("div",{className:"myPageDetailsList2",children:[Object(v.jsxs)("div",{className:"myPagePlatformsHeader",children:[Object(v.jsx)("p",{children:"SUBSCRIBED PLATFORMS"}),Object(v.jsx)("div",{className:"linePlatforms"})]}),Me&&Object(v.jsx)(De,{currentItems:Me,row:!0}),Object(v.jsx)(ke.a,{nextLabel:">",onPageChange:function(e){var t=e.selected*ze%oe.length;console.log("User requested page number ".concat(e.selected,", which is offset ").concat(t)),Ve(t)},pageRangeDisplayed:3,marginPagesDisplayed:2,pageCount:He,previousLabel:"<",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link",containerClassName:"pagination",activeClassName:"active",renderOnZeroPageCount:null})]})]})]})]})};var Me=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(!0),r=Object(l.a)(s,2),i=r[0],j=r[1],u=Object(o.f)().search;new URLSearchParams(u).get("search"),console.log("data values are ",a);var d=Object(c.useContext)(b).store;return d.search,Object(c.useEffect)((function(){console.log("store value is ",d.search),console.log("entered search screen");fetch("/api/search",{method:"POST",body:JSON.stringify({search:d.search}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){n(e.search)}));j(!1),console.log("true value :",i)}),[d.search]),i?Object(v.jsx)("span",{children:" loading platforms"}):0==a.length?Object(v.jsx)("span",{children:" No results"}):Object(v.jsx)("div",{children:a.map((function(e){return Object(v.jsx)(be,{platform:e})}))})},Fe=a(219);var Qe=function(e){var t=Object(c.useState)(""),a=Object(l.a)(t,2),n=a[0],s=a[1],r=Object(c.useState)(""),o=Object(l.a)(r,2),j=o[0],u=o[1],b=Object(c.useState)(0),d=Object(l.a)(b,2),O=d[0],m=(d[1],Object(c.useState)()),p=Object(l.a)(m,2),f=p[0],x=p[1],N=Object(c.useState)(""),y=Object(l.a)(N,2),S=y[0],C=y[1],k=Object(c.useState)("/images/sample.jpeg"),I=Object(l.a)(k,2),w=I[0],E=I[1],q=function(){var t=Object(g.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U("/api/quizzes/insert",[S],{title:n,description:j,platformId:e.match.params.platformId,likes:O});case 2:t.sent,alert("quiz added");case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:"createquiz-main-container",children:[Object(v.jsx)("p",{style:{fontSize:"2rem",textAlign:"center"},children:"Create Quiz"}),Object(v.jsxs)("div",{className:"createquiz-content",children:[Object(v.jsxs)("div",{className:"createquiz-thumbnail",children:[Object(v.jsx)("p",{children:"Thumbnail"}),Object(v.jsxs)("div",{className:"createquiz-image-block",children:[Object(v.jsx)("img",{src:w,onClick:function(){f&&f.click()}}),Object(v.jsx)("input",{ref:function(e){return x(e)},id:"file-input",type:"file",onChange:function(e){E(URL.createObjectURL(e.target.files[0])),C(e.target.files[0])}})]})]}),Object(v.jsxs)("div",{className:"createquiz-details",children:[Object(v.jsx)("p",{children:"Title"}),Object(v.jsx)("div",{className:"createquiz-content-block",children:Object(v.jsx)(Fe.a,{hiddenLabel:!0,onChange:function(e){return s(e.target.value)},value:n,style:{minWidth:"300px"},inputProps:{style:{fontSize:"14px"}},InputLabelProps:{style:{fontSize:"12px"}}})}),Object(v.jsx)("p",{children:"Description"}),Object(v.jsx)("div",{className:"createquiz-content-block",children:Object(v.jsx)(Fe.a,{hiddenLabel:!0,onChange:function(e){return u(e.target.value)},value:j,style:{minWidth:"300px"},inputProps:{style:{fontSize:"14px"}},InputLabelProps:{style:{fontSize:"12px"}}})})]})]}),Object(v.jsxs)("div",{className:"createquiz-buttons",children:[Object(v.jsx)("button",{style:{width:"10%",marginTop:"12px",color:"white",backgroundColor:"#00aeef"},onClick:q,component:i.b,to:"/platform/".concat(e.match.params.platformId),children:"SAVE"}),Object(v.jsx)("button",{style:{width:"10%",marginTop:"12px",color:"#929292",backgroundColor:"transparent"},component:i.b,to:"/platform/".concat(e.match.params.platformId),children:"CANCEL"})]})]})},Ue=a(126),He=a.n(Ue),We=a(125),Je=a.n(We);var Ge=function(e){var t=Object(c.useState)(!1),a=Object(l.a)(t,2),n=a[0],s=a[1],r=e.title,i=e.children;return Object(v.jsxs)("div",{className:"panel ".concat(n?"is-expanded":""),onClick:function(e){e.preventDefault(),s(!n)},children:[Object(v.jsxs)("div",{className:"panel-heading ",children:[Object(v.jsx)("div",{className:"panel-title",children:r}),n?[Object(v.jsx)(Je.a,{className:"arrow",sx:{fontSize:22}})]:[Object(v.jsx)(He.a,{className:"arrow",sx:{fontSize:22}})]]}),Object(v.jsx)("div",{className:"panel-collapse",children:i})]})},Ze=a(81),Ve=a.n(Ze),Ye=a(82),Ke=a.n(Ye),Xe=a(83),$e=a.n(Xe);var et=function(){return Object(v.jsxs)("div",{className:"contact-sections",children:[Object(v.jsxs)("div",{className:"contact-icons",children:[Object(v.jsx)(Ve.a,{sx:{fontSize:20}}),Object(v.jsx)(Ke.a,{sx:{fontSize:20}}),Object(v.jsx)($e.a,{sx:{fontSize:20}})]}),Object(v.jsxs)("div",{className:"contact-info",children:[Object(v.jsx)("p",{children:"support_blue@bluespace.com"}),Object(v.jsx)("p",{children:"1 631.123.1234"}),Object(v.jsx)("p",{children:"450 Circle Rd, Stonybrook, NY"})]})]})};var tt=function(){return Object(v.jsxs)("div",{className:"qna-sections",children:[Object(v.jsx)(Ge,{title:"How many platforms can users create",children:Object(v.jsx)("p",{children:"Any logged in user can create as many platforms as they want."})}),Object(v.jsx)(Ge,{title:"How many platforms can users subscribe to?",children:Object(v.jsx)("p",{children:"Any logged in user can subscribe to as many platforms as they want."})}),Object(v.jsx)(Ge,{title:"How can users create their own platform?",children:Object(v.jsx)("p",{children:"After logging in, they can tap on the Create button in order to create a new platform"})})]})};var at=function(){return Object(v.jsxs)("div",{className:"qna-sections",children:[Object(v.jsx)(Ge,{title:"How do I use the leaderboard?",children:Object(v.jsx)("p",{children:"You can click column headers to sort by that specific header!"})}),Object(v.jsx)(Ge,{title:"How do I improve my ranking?",children:Object(v.jsx)("p",{children:"Just keep on playing more quizzes!"})})]})};var ct=function(){return Object(v.jsxs)("div",{className:"qna-sections",children:[Object(v.jsx)(Ge,{title:"How do I buy items from the store?",children:Object(v.jsx)("p",{children:"Clicking on item will lead to a popup. Then confirming the popup will lead you to buy the item if you have enough points!"})}),Object(v.jsx)(Ge,{title:"Do I have to pay again to change badges or titles?",children:Object(v.jsx)("p",{children:"Everytime you want to change badges or titles you will have to pay again."})})]})};var nt=function(){return Object(v.jsxs)("div",{className:"qna-sections",children:[Object(v.jsx)(Ge,{title:"How many quizzes can users create?",children:Object(v.jsx)("p",{children:"Any amount they want but, they have to be a platform owner"})}),Object(v.jsx)(Ge,{title:"How many answers can a question have?",children:Object(v.jsx)("p",{children:"Only up to 4."})})]})};var st=function(){var e=Object(c.useState)("platform"),t=Object(l.a)(e,2),a=t[0],n=t[1];Object(c.useEffect)((function(){}),[a]);var s=function(e){n(e)};return Object(v.jsxs)("div",{className:"helpPage",children:[Object(v.jsx)("p",{style:{textAlign:"center"},children:"HOW CAN WE HELP YOU?"}),Object(v.jsxs)("div",{className:"helpHeaderButtons",children:[Object(v.jsxs)("div",{className:"helpButton",children:[Object(v.jsx)("button",{type:"button",style:"platform"!==a?{color:"#929292"}:{color:"#00AEEF"},onClick:function(){return s("platform")},children:"PLATFORM"}),Object(v.jsx)("div",{className:"helpLine",style:"platform"!==a?{color:"#929292"}:{color:"#00AEEF"}})]}),Object(v.jsxs)("div",{className:"helpButton",children:[Object(v.jsx)("button",{type:"button",style:"quiz"!==a?{color:"#929292"}:{color:"#00AEEF"},onClick:function(){return s("quiz")},value:"quiz",children:"QUIZ"}),Object(v.jsx)("div",{className:"helpLine",style:"quiz"!==a?{color:"#929292"}:{color:"#00AEEF"}})]}),Object(v.jsxs)("div",{className:"helpButton",children:[Object(v.jsx)("button",{type:"button",style:"leaderboard"!==a?{color:"#929292"}:{color:"#00AEEF"},onClick:function(e){return s("leaderboard")},children:"LEADERBOARD"}),Object(v.jsx)("div",{className:"helpLine",style:"leaderboard"!==a?{color:"#929292"}:{color:"#00AEEF"}})]}),Object(v.jsxs)("div",{className:"helpButton",children:[Object(v.jsx)("button",{type:"button",style:"store"!==a?{color:"#929292"}:{color:"#00AEEF"},onClick:function(){return s("store")},children:"STORE"}),Object(v.jsx)("div",{className:"helpLine",style:"store"!==a?{color:"#929292"}:{color:"#00AEEF"}})]}),Object(v.jsxs)("div",{className:"helpButton",children:[Object(v.jsx)("button",{type:"button",style:"contact"!==a?{color:"#929292"}:{color:"#00AEEF"},onClick:function(){return s("contact")},children:"CONTACT"}),Object(v.jsx)("div",{className:"helpLine",style:"contact"!==a?{color:"#929292"}:{color:"#00AEEF"}})]})]}),"platform"===a?Object(v.jsx)(tt,{}):"quiz"===a?Object(v.jsx)(nt,{}):"leaderboard"===a?Object(v.jsx)(at,{}):"store"===a?Object(v.jsx)(ct,{}):"contact"===a?Object(v.jsx)(et,{}):[]]})},rt=a(129),it=a.n(rt),ot=a(128),lt=a.n(ot),jt=a(127),ut=a.n(jt);var bt=function(e){var t=Object(o.e)(),a=Object(c.useState)(""),n=Object(l.a)(a,2),s=n[0],r=n[1],i=Object(c.useState)(""),j=Object(l.a)(i,2),b=j[0],d=j[1],O=Object(c.useState)(""),m=Object(l.a)(O,2),p=m[0],f=m[1],x=Object(c.useState)(""),N=Object(l.a)(x,2),y=N[0],S=N[1],C=Object(c.useState)(""),k=Object(l.a)(C,2),I=k[0],w=k[1],E=Object(c.useState)(""),q=Object(l.a)(E,2),L=q[0],z=q[1],P=Object(c.useState)(!0),T=Object(l.a)(P,2),A=T[0],_=T[1],B=Object(c.useState)(!0),D=Object(l.a)(B,2),R=D[0],M=D[1],U=Object(c.useState)(!0),H=Object(l.a)(U,2),W=H[0],J=H[1],G=Object(c.useState)(!0),Z=Object(l.a)(G,2),V=Z[0],Y=Z[1],K=Object(c.useState)(0),X=Object(l.a)(K,2),$=X[0],ee=X[1],te=Object(c.useState)(0),ae=Object(l.a)(te,2),ce=ae[0],ne=ae[1],se=Object(c.useState)([]),re=Object(l.a)(se,2),ie=re[0],oe=re[1],le=Object(c.useState)(!0),ue=Object(l.a)(le,2),be=(ue[0],ue[1],Object(c.useState)(!1)),de=Object(l.a)(be,2),Oe=(de[0],de[1],Object(c.useState)(0)),me=Object(l.a)(Oe,2),pe=me[0],he=me[1],ge=Object(c.useState)(!1),fe=Object(l.a)(ge,2),xe=fe[0],ve=fe[1],Ne=Object(c.useState)(!1),ye=Object(l.a)(Ne,2),Se=ye[0],Ce=ye[1],ke=Object(c.useState)(!1),Ie=Object(l.a)(ke,2),we=Ie[0],Ee=Ie[1],qe=Object(c.useState)(!1),Le=Object(l.a)(qe,2),ze=Le[0],Pe=Le[1],Ae=Object(c.useState)(!1),_e=Object(l.a)(Ae,2),Be=_e[0],De=_e[1],Re=Object(c.useState)(!1),Me=Object(l.a)(Re,2),Qe=Me[0],Ue=Me[1],He=Object(c.useState)(!1),We=Object(l.a)(He,2),Je=We[0],Ge=We[1];Object(c.useEffect)((function(){ie.length===$&&(ce+1>=ie.length?_(!0):_(!1))})),Object(c.useEffect)((function(){console.log("updating info"),ve(!1),e.match.params.quizId&&u.a.get("/api/questions/get_question/"+e.match.params.quizId).then((function(e){var t=null===e||void 0===e?void 0:e.data;ee(t.length),oe(t),ne(0),M(!0)})).catch((function(e){console.log("Error loading quiz")}))}),[xe]),Object(c.useEffect)((function(){ce==$?(r(""),d(""),f(""),S(""),w(""),z(""),$>0&&he(ie[ce-1].questionNum+1)):(r(ie[ce].text),d(ie[ce].answer),f(ie[ce].option[0]),S(ie[ce].option[1]),w(ie[ce].option[2]),z(ie[ce].option[3]),he(ie[ce].questionNum))}),[ce,ie]),Object(c.useEffect)((function(){Ee(!1),Pe(!1),De(!1),Ue(!1),Ge(!1),Ce(!1),M(ce<=0),ce==$?(J(!0),_(!0),Y(!0)):(J(!1),_(!1),Y(!1))}),[ce,$]),Object(c.useEffect)((function(){}),[Se,we,ze,Be,Qe,Je]);var Ze=function(){var e=Object(g.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Q("/api/questions/delete",{questionNum:pe});case 3:e.sent,alert("Question deleted"),0!=ce&&ne(ce-1),ve(!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ve=function(){var t=Object(g.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),""!=s){t.next=6;break}Ge(!0),ve(!1),t.next=53;break;case 6:if(""!=b){t.next=11;break}Ce(!0),ve(!1),t.next=53;break;case 11:if(""!=p){t.next=16;break}Ee(!0),ve(!1),t.next=53;break;case 16:if(""!=y){t.next=21;break}Pe(!0),ve(!1),t.next=53;break;case 21:if(""!=I){t.next=26;break}De(!0),ve(!1),t.next=53;break;case 26:if(""!=L){t.next=31;break}Ue(!0),ve(!1),t.next=53;break;case 31:if(b!=p&&b!=y&&b!=I&&b!=L){t.next=50;break}if(Ce(!1),ce!=$){t.next=42;break}return console.log("create new question"),t.next=37,F("/api/questions/insert",{text:s,option:[p,y,I,L],answer:b,quizId:e.match.params.quizId,questionNum:pe});case 37:t.sent,ve(!0),alert("question added"),t.next=48;break;case 42:return console.log("update new question"),t.next=45,F("/api/questions/upsert",{text:s,option:[p,y,I,L],answer:b,quizId:e.match.params.quizId,questionNum:pe});case 45:t.sent,ve(!0),alert("question modified");case 48:t.next=53;break;case 50:a.preventDefault(),Ce(!0),ve(!1);case 53:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:"createQuestionScreen",children:[Object(v.jsx)("p",{style:{fontSize:"2rem",textAlign:"center"},children:"Edit / Add Quiz"}),Object(v.jsxs)(je.a,{component:"form",autoComplete:"off",children:[Object(v.jsxs)("div",{className:"createQuestionInputs",children:[Object(v.jsxs)("div",{className:"questionsAddButtons",children:[Object(v.jsx)("button",{disabled:W,style:{marginTop:"12px"},onClick:function(e){e.preventDefault(),ne($)},children:Object(v.jsx)(Te.a,{sx:{fontSize:"20px"}})}),Object(v.jsx)("button",{disabled:V,style:{marginTop:"12px"},onClick:Ze,children:Object(v.jsx)(ut.a,{sx:{fontSize:"20px"}})})]}),Object(v.jsxs)("div",{className:"createQuestionsTextfields",children:[Object(v.jsx)(Fe.a,{error:Je,helperText:Je&&"Empty Entry",required:!0,onChange:function(e){return r(e.target.value),""!=e.target.value?Ge(!1):Ge(!0)},value:s,label:"Question ".concat(ce+1),style:{minWidth:"300px",marginBottom:"2rem"},inputProps:{style:{fontSize:"14px"}},InputLabelProps:{style:{fontSize:"12px"}}}),Object(v.jsx)(Fe.a,{error:Se,helperText:Se&&"Answer Not Found In Options",required:!0,onChange:function(e){return d(e.target.value),""!=e.target.value?Ce(!1):Ce(!0)},value:b,label:"Answer",style:{minWidth:"300px",marginBottom:"2rem"},inputProps:{style:{fontSize:"14px"}},InputLabelProps:{style:{fontSize:"12px"}}}),Object(v.jsx)(Fe.a,{error:we,helperText:we&&"Empty Entry",required:!0,onChange:function(e){return f(e.target.value),""!=e.target.value?Ee(!1):Ee(!0)},value:p,label:"First",style:{minWidth:"300px",marginBottom:"2rem"},inputProps:{style:{fontSize:"14px"}},InputLabelProps:{style:{fontSize:"12px"}}}),Object(v.jsx)(Fe.a,{error:ze,helperText:ze&&"Empty Entry",required:!0,onChange:function(e){return S(e.target.value),""!=e.target.value?Pe(!1):Pe(!0)},value:y,label:"Second",style:{minWidth:"300px",marginBottom:"2rem"},inputProps:{style:{fontSize:"14px"}},InputLabelProps:{style:{fontSize:"12px"}}}),Object(v.jsx)(Fe.a,{error:Be,helperText:Be&&"Empty Entry",required:!0,onChange:function(e){return w(e.target.value),""!=e.target.value?De(!1):De(!0)},value:I,label:"Third",style:{minWidth:"300px",marginBottom:"2rem"},inputProps:{style:{fontSize:"14px"}},InputLabelProps:{style:{fontSize:"12px"}}}),Object(v.jsx)(Fe.a,{error:Qe,helperText:Qe&&"Empty Entry",required:!0,onChange:function(e){return z(e.target.value),""!=e.target.value?Ue(!1):Ue(!0)},value:L,label:"Fourth",style:{minWidth:"300px",marginBottom:"2rem"},inputProps:{style:{fontSize:"14px"}},InputLabelProps:{style:{fontSize:"12px"}}})]}),Object(v.jsxs)("div",{className:"questionsMoveButtons",children:[Object(v.jsx)("button",{disabled:R,style:{width:"10%",marginTop:"12px"},onClick:function(e){e.preventDefault(),Ce(!1),Ee(!1),Pe(!1),De(!1),Ue(!1),ce>0&&ne(ce-1)},children:Object(v.jsx)(lt.a,{sx:{fontSize:"30px"}})}),Object(v.jsx)("button",{type:"submit",disabled:A,style:{width:"10%",marginTop:"12px"},onClick:function(e){e.preventDefault(),ne(ce+1)},children:Object(v.jsx)(it.a,{sx:{fontSize:"30px"}})})]})]}),Object(v.jsxs)("div",{className:"questionsSaveButtons",children:[Object(v.jsx)("button",{type:"submit",style:{backgroundColor:"#00aeef",color:"white"},onClick:Ve,children:"SAVE"}),Object(v.jsx)("button",{style:{backgroundColor:"transparent",color:"#929292"},onClick:function(){return t.goBack()},children:"RETURN"})]})]})]})};var dt=function(e){var t=Object(o.e)(),a=Object(c.useContext)(b).store,n=Object(c.useState)(),s=Object(l.a)(n,2),r=s[0],j=s[1],d=Object(c.useState)(!1),O=Object(l.a)(d,2),m=O[0],p=O[1],f=Object(c.useState)(!1),x=Object(l.a)(f,2),N=x[0],y=x[1],S=Object(c.useState)(null),C=Object(l.a)(S,2),k=(C[0],C[1],Object(c.useState)(a.username)),I=Object(l.a)(k,2),w=I[0],E=I[1],q=Object(c.useState)(""),L=Object(l.a)(q,2),z=L[0],P=L[1],T=Object(c.useState)(""),A=Object(l.a)(T,2),_=A[0],B=A[1],D=Object(c.useState)(""),R=Object(l.a)(D,2),M=R[0],F=R[1],H=Object(c.useState)(""),W=Object(l.a)(H,2),J=W[0],G=W[1],Z=Object(c.useState)(),V=Object(l.a)(Z,2),Y=V[0],K=V[1],X=Object(c.useState)(""),$=Object(l.a)(X,2),ee=($[0],$[1],Object(c.useState)("")),te=Object(l.a)(ee,2),ae=te[0],se=te[1],re=Object(c.useState)(""),ie=Object(l.a)(re,2),oe=ie[0],le=ie[1],je=Object(c.useState)(),ue=Object(l.a)(je,2),be=ue[0],de=ue[1],Oe=Object(c.useState)(""),me=Object(l.a)(Oe,2),pe=me[0],he=me[1],ge=Object(c.useState)(""),fe=Object(l.a)(ge,2),xe=fe[0],ve=fe[1],Ne=Object(c.useState)(""),ye=Object(l.a)(Ne,2),Se=ye[0],Ce=ye[1],ke=Object(c.useState)(""),Ie=Object(l.a)(ke,2),we=Ie[0],Ee=Ie[1];Object(c.useEffect)((function(){r&&(P(r.title),B(r.description),he(r.fontColor),ve(r.tag1),Ce(r.tag2),Ee(r.tag3),G(r.banner),le(r.icon))}),[r]),Object(c.useEffect)((function(){var t=function(){var t=Object(g.a)(h.a.mark((function t(){var a,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,p(!0),t.next=4,u.a.get("/api/platforms/by_id/"+e.match.params.platformId);case 4:a=t.sent,c=a.data,console.log(c),p(!1),j(c),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),y(t.t0.message),p(!1);case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}();t()}),[e.match.params.platformId]),Object(c.useEffect)((function(){E(a.username)}),[a]);var qe=function(){var e=Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U("/api/platforms/edit",[M,ae],{platformId:r._id,userName:w,title:z,description:_,fontColor:pe,tag1:xe,tag2:Se,tag3:we,banner:r.banner,banner_changed:""!=M?1:0,icon:r.icon,icon_changed:""!=ae?1:0});case 2:e.sent,alert("platform edit"),t.goBack();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Le=function(){var e=Object(g.a)(h.a.mark((function e(a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q("/api/platforms/platformDelete",{platformId:r._id});case 2:e.sent,alert("platform delete"),t.push("/");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsx)("div",{children:Object(v.jsxs)("div",{children:[m&&Object(v.jsx)(ce,{}),N&&Object(v.jsx)(ne,{variant:"danger",children:N}),Object(v.jsx)("div",{className:"create-plaform-main",children:Object(v.jsxs)("div",{children:[m&&Object(v.jsx)(ce,{}),N&&Object(v.jsx)(ne,{variant:"danger",children:N}),Object(v.jsxs)("div",{className:"tags",children:[Object(v.jsx)("input",{className:"tag-input",value:xe,onChange:function(e){return ve(e.target.value)},placeholder:"Tag1"}),Object(v.jsx)("input",{className:"tag-input",value:Se,onChange:function(e){return Ce(e.target.value)},placeholder:"Tag2"}),Object(v.jsx)("input",{className:"tag-input",value:we,onChange:function(e){return Ee(e.target.value)},placeholder:"Tag3"})]}),Object(v.jsxs)("div",{className:"postArea",children:[Object(v.jsx)("input",{ref:function(e){return K(e)},id:"file-input",className:"cp-banner-input",type:"file",onChange:function(e){G(URL.createObjectURL(e.target.files[0])),F(e.target.files[0])}}),Object(v.jsx)("div",{className:"cp-banner",style:{backgroundImage:"url(".concat(J&&""!=J?J:"./images/sample.jpeg",")")},onClick:function(){Y&&Y.click()}}),Object(v.jsxs)("div",{className:"cp-platformInfoArea",children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("img",{src:oe,onClick:function(){be&&be.click()}}),Object(v.jsx)("input",{ref:function(e){return de(e)},id:"file-input",className:"cp-banner-input",type:"file",onChange:function(e){le(URL.createObjectURL(e.target.files[0])),se(e.target.files[0])}})]}),Object(v.jsxs)("div",{className:"cp-platformInfo",children:[Object(v.jsxs)("div",{className:"cp-platformTop",children:[Object(v.jsx)("input",{value:z,onChange:function(e){return P(e.target.value)},placeholder:"Title",style:{fontSize:"40px",width:"70%"}}),Object(v.jsxs)("div",{className:"cp-fontcolor",children:[Object(v.jsx)("p",{children:"Font Color"}),Object(v.jsx)("input",{type:"color",value:pe,onChange:function(e){return he(e.target.value)}})]}),Object(v.jsx)("span",{children:a.username})]}),Object(v.jsx)("div",{className:"platformLine"}),Object(v.jsxs)("div",{className:"platformBottom",children:[Object(v.jsx)("input",{value:_,onChange:function(e){return B(e.target.value)},placeholder:"description",style:{fontSize:"1.5rem",width:"70%"}}),Object(v.jsx)("button",{children:"SUBSCRIBE"})]})]})]})]}),Object(v.jsx)("div",{children:Object(v.jsxs)("div",{className:"cp-buttons",children:[Object(v.jsx)("button",{className:"asd",onClick:qe,style:{backgroundColor:"#00aeef",color:"white",float:"right"},children:"SAVE"}),Object(v.jsx)("button",{component:i.b,to:"/",onClick:Le,style:{backgroundColor:"#929292",borderColor:"#929292",color:"white"},children:"DELETE"}),Object(v.jsx)("button",{onClick:function(){return t.goBack()},style:{backgroundColor:"transparent",borderColor:"#929292",color:"#929292"},children:"CANCEL"})]})})]})})]})})};var Ot=function(e){Object(c.useContext)(b).store;var t=Object(c.useState)(!1),a=Object(l.a)(t,2),n=a[0],s=a[1],r=Object(c.useState)(!1),i=Object(l.a)(r,2),j=i[0],d=i[1],O=Object(c.useState)(""),m=Object(l.a)(O,2),p=m[0],f=m[1],x=Object(c.useState)(),N=Object(l.a)(x,2),y=N[0],S=N[1],C=Object(c.useState)(""),k=Object(l.a)(C,2),I=k[0],w=k[1],E=Object(c.useState)(""),q=Object(l.a)(E,2),L=q[0],z=q[1],P=Object(c.useState)(),T=Object(l.a)(P,2),A=T[0],_=T[1],B=Object(c.useState)([]),D=Object(l.a)(B,2),R=D[0],M=D[1],F=Object(c.useState)(""),Q=Object(l.a)(F,2),H=Q[0],W=Q[1],J=Object(c.useState)(),G=Object(l.a)(J,2),Z=(G[0],G[1]),V=Object(c.useState)(),Y=Object(l.a)(V,2),K=Y[0],X=Y[1],$=Object(c.useState)(""),ee=Object(l.a)($,2),te=ee[0],ae=ee[1],se=Object(c.useState)(""),re=Object(l.a)(se,2),ie=re[0],oe=re[1],le=Object(c.useState)(""),je=Object(l.a)(le,2),ue=je[0],be=je[1],de=Object(c.useState)(),me=Object(l.a)(de,2),pe=me[0],he=me[1],ge=Object(c.useState)(),fe=Object(l.a)(ge,2),xe=fe[0],ve=fe[1],Ne=Object(c.useState)([]),ye=Object(l.a)(Ne,2),Se=ye[0],Ce=ye[1],ke=Object(c.useState)(),Ie=Object(l.a)(ke,2),Ee=Ie[0],Le=Ie[1],ze=[15,49,106,198,333,705,9999],Pe=Object(o.e)();Object(c.useEffect)((function(){var e=localStorage.getItem("data");e=JSON.parse(e),u.a.get("/api/v1/get_user?user_id="+e.id).then((function(e){return S(e.data)})).catch((function(e){d("No userdata")}))}),[]),Object(c.useEffect)((function(){if(console.log("userDataaaa",y),y){var e=function(){var e=Object(g.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,u.a.get("/api/platforms/"+y._id);case 3:t=e.sent,a=t.data,s(!1),M(a),y.subscribedPlatforms.map((function(e,t){var a;a=e,u.a.get("/api/platforms/by_id/"+a).then((function(e){Se.push(e.data),console.log("!!",Se),Ce(Object(qe.a)(Se))})).catch((function(e){d("No userdata")}))})),console.log(Se),console.log("platforms",R);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[y]),Object(c.useEffect)((function(){y&&(f(y.username),W(y.title),Z(y.exp),X(y.points),ae(y.totalQuestions),oe(y.correct),be(y.badge),he(y.level),ve(y.exp/ze[y.level-1]*100),w(y.userImage),z(y.userImage),Le(y.playCount))}),[y]);var Te=function(){var e=Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U("/api/v1/set_user",[I],{newName:p,userId:y._id});case 2:e.sent.err&&alert("".concat(p," is exist username!!")),Pe.goBack();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{children:[n&&Object(v.jsx)(ce,{}),j&&Object(v.jsx)(ne,{variant:"danger",children:j}),Object(v.jsxs)("div",{className:"myPage",children:[Object(v.jsxs)("div",{className:"sideArea",children:[Object(v.jsx)("div",{className:"settingsGear",children:Object(v.jsx)("button",{children:Object(v.jsx)("img",{src:"/images/icon/gear.png"})})}),Object(v.jsxs)("div",{className:"sideAreaInfo",children:[Object(v.jsxs)("div",{className:"profileImage",children:[Object(v.jsx)("img",{src:L,onClick:function(){A&&A.click()}}),Object(v.jsx)("input",{ref:function(e){return _(e)},id:"file-input",type:"file",onChange:function(e){z(URL.createObjectURL(e.target.files[0])),w(e.target.files[0])}})]}),Object(v.jsxs)("div",{className:"userPreview",children:[Object(v.jsx)("div",{className:"userTitle",children:Object(v.jsx)("p",{style:{textAlign:"center"},children:H})}),Object(v.jsxs)("div",{className:"usernameBadgeMyPage",children:[Object(v.jsx)("img",{src:ue}),Object(v.jsx)(Fe.a,{value:p,onChange:function(e){return f(e.target.value)}})]})]}),Object(v.jsxs)("div",{className:"expBarWithLevel2",children:[Object(v.jsxs)("p",{children:["Lv.",pe]}),Object(v.jsx)("div",{className:"expBarContainer2",children:Object(v.jsx)("div",{className:"expBar2",style:{width:"".concat(xe,"%")}})})]})]})]}),Object(v.jsxs)("div",{className:"myPageDetails",children:[Object(v.jsxs)("div",{className:"myPageDetailsList",children:[Object(v.jsxs)("div",{className:"myPageDetailsListTitle",children:[Object(v.jsx)("p",{children:"STATS"}),Object(v.jsx)("div",{className:"lineStats"})]}),Object(v.jsxs)("div",{className:"myPageStats",children:[Object(v.jsxs)("div",{className:"myPageStatsInfo",children:[Object(v.jsx)("p",{children:"ACCURACY"}),Object(v.jsxs)("h1",{children:[Math.round(0!=te?ie/te*100:0),"%"]})]}),Object(v.jsxs)("div",{className:"myPageStatsInfo",children:[Object(v.jsx)("p",{children:"Play Count"}),Object(v.jsx)("h1",{children:Ee})]}),Object(v.jsxs)("div",{className:"myPageStatsInfo",children:[Object(v.jsx)("p",{children:"TITLE"}),Object(v.jsx)("h1",{children:H})]}),Object(v.jsxs)("div",{className:"myPageStatsInfo",children:[Object(v.jsx)("p",{children:"POINTS"}),Object(v.jsxs)("h1",{children:[K,"p"]})]})]})]}),Object(v.jsxs)("div",{className:"myPageDetailsList2",children:[Object(v.jsxs)("div",{className:"myPagePlatformsHeader",children:[Object(v.jsx)("p",{children:"OWNED PLATFORMS"}),Object(v.jsx)("div",{className:"linePlatforms"})]}),Object(v.jsx)(we,{itemsPerPage:4,items:R,row:!0})]}),Object(v.jsxs)("div",{className:"myPageDetailsList2",children:[Object(v.jsxs)("div",{className:"myPagePlatformsHeader",children:[Object(v.jsx)("p",{children:"SUBSCRIBED PLATFORMS"}),Object(v.jsx)("div",{className:"linePlatforms"})]}),Object(v.jsx)(we,{itemsPerPage:4,items:Se,row:!0})]})]})]}),Object(v.jsx)(Oe.a,{className:"asd",onClick:Te,style:{backgroundColor:"#00aeef",color:"white",float:"right"},children:"SAVE"}),Object(v.jsx)(Oe.a,{onClick:function(){return Pe.goBack()},style:{float:"right",color:"#00aeef",bordercolor:"#00aeef",borderradius:"5px",borderstyle:"solid",borderwidth:"1px"},children:"CANCEL"})]})};var mt=function(){var e=["/images/badges/car.png","/images/badges/sword.png","/images/badges/abduction.png","/images/badges/dog.png","/images/badges/worldwide.png","/images/badges/crown.png","/images/badges/cookie.png","/images/badges/cat.png","/images/badges/apple.png","/images/badges/merry-go-round.png"],t=["car","sword","ufo","doggo","earth","crown","cookie","cat","apple","ride"],a=100,n=100,s=Object(c.useState)(""),r=Object(l.a)(s,2),i=r[0],o=r[1],j=Object(c.useState)(""),b=Object(l.a)(j,2),d=b[0],O=b[1],m=["Mastermind","Invincible","Immortal Hero","Specialist","Expert","Apprentice","Superior","Human Enough","Champion","Midas's Touch","Clairvoyant","Unstoppable"],p=Object(c.useState)(),f=Object(l.a)(p,2),x=f[0],N=f[1],y=Object(c.useState)(!1),S=Object(l.a)(y,2),C=(S[0],S[1]),k=Object(c.useState)(),I=Object(l.a)(k,2),w=I[0],E=I[1],q=Object(c.useState)(),L=Object(l.a)(q,2),z=L[0],P=L[1],T=Object(c.useState)(null),A=Object(l.a)(T,2),_=A[0],B=A[1],D=Object(c.useState)(0),R=Object(l.a)(D,2),M=R[0],Q=R[1],U=Object(c.useState)(5),H=Object(l.a)(U,2),W=H[0],J=(H[1],Object(c.useState)(0)),G=Object(l.a)(J,2),Z=G[0],V=G[1],Y=Object(c.useState)(null),K=Object(l.a)(Y,2),X=K[0],$=K[1],ee=Object(c.useState)(0),te=Object(l.a)(ee,2),ae=te[0],ce=te[1],ne=Object(c.useState)(4),se=Object(l.a)(ne,2),re=se[0],ie=(se[1],Object(c.useState)(0)),oe=Object(l.a)(ie,2),le=oe[0],je=oe[1];Object(c.useEffect)((function(){var e=localStorage.getItem("data");e=JSON.parse(e),u.a.get("/api/v1/get_user?user_id="+e.id).then((function(e){return N(e.data),E(e.data.points),o(e.data.badge),O(e.data.title),P(e.data.username)})).catch((function(e){C("No userdata")}))}),[]),Object(c.useEffect)((function(){}),[i,d,w,x]),Object(c.useEffect)((function(){var t=Z+W;console.log("Loading items from ".concat(Z," to ").concat(t)),B(e.slice(Z,t)),Q(Math.ceil(e.length/W))}),[Z,W]),Object(c.useEffect)((function(){var e=le+re;console.log("Loading items from ".concat(le," to ").concat(e)),$(m.slice(le,e)),ce(Math.ceil(m.length/re))}),[le,re]);var ue=function(){var e=Object(g.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F("/api/v1/editBadge",{userId:x._id,badge:t,points:x.points-a});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=Object(g.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F("/api/v1/editTitle",{userId:x._id,title:t,points:x.points-n});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function de(e){return Object(v.jsx)("div",{className:"badgeItemsToBuy",children:e.currentItems&&e.currentItems.map((function(c,n){return Object(v.jsxs)("div",{className:"storeBadges",children:[Object(v.jsx)("p",{style:{textAlign:"center",color:"#929292"},children:t[e.itemOffset+n]}),Object(v.jsx)("input",{type:"image",src:c,alt:n,onClick:function(){return function(e){var t=window.confirm("Purchase selected badge? Cost: 100 points");t&&x.points>=a?(o(e),ue(e),E(w-a)):t&&x.points<a&&alert("Not enough points")}(c)}}),Object(v.jsx)("button",{onClick:function(){o(c)},children:"preview"})]})}))})}function Oe(e){return Object(v.jsx)("div",{className:"titleItemsToBuy",children:e.currentItems&&e.currentItems.map((function(e){return Object(v.jsxs)("div",{className:"storeTitles",children:[Object(v.jsx)("button",{onClick:function(){return function(e){var t=window.confirm("Purchase selected title? Cost: 100 points");t&&x.points>=n?(O(e),be(e),E(w-n)):t&&x.points<n&&alert("Not enough points")}(e)},children:e}),Object(v.jsx)("div",{className:"titlePreview",children:Object(v.jsx)("button",{onClick:function(){O(e)},children:"preview"})})]})}))})}return Object(v.jsxs)("div",{className:"storePage",children:[Object(v.jsxs)("div",{className:"storeHeader",children:[Object(v.jsxs)("div",{className:"storePoints",children:[w,Object(v.jsx)("p",{children:" Points"})]}),Object(v.jsxs)("div",{className:"userPreview",children:[Object(v.jsx)("div",{className:"userTitle",children:Object(v.jsx)("p",{style:{textAlign:"center"},children:d})}),Object(v.jsxs)("div",{className:"usernameBadge",children:[Object(v.jsx)("img",{src:i}),Object(v.jsx)("span",{children:z})]})]})]}),Object(v.jsxs)("div",{className:"storeContent",children:[Object(v.jsx)("p",{style:{textAlign:"center"},children:"BADGE"}),Object(v.jsx)("div",{className:"lineBadge"}),Object(v.jsxs)("div",{className:"badges",children:[Object(v.jsx)(de,{currentItems:_,itemOffset:Z}),Object(v.jsx)("div",{className:"badgePagination",children:Object(v.jsx)(ke.a,{nextLabel:">",onPageChange:function(t){var a=t.selected*W%e.length;console.log("User requested page number ".concat(t.selected,", which is offset ").concat(a)),V(a)},pageRangeDisplayed:3,marginPagesDisplayed:2,pageCount:M,previousLabel:"<",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link",containerClassName:"pagination",activeClassName:"active",renderOnZeroPageCount:null})})]}),Object(v.jsxs)("div",{className:"titles",children:[Object(v.jsx)("p",{style:{textAlign:"center"},children:"TITLE"}),Object(v.jsx)("div",{className:"lineTitle"}),Object(v.jsx)(Oe,{currentItems:X}),Object(v.jsx)("div",{className:"badgePagination",children:Object(v.jsx)(ke.a,{nextLabel:">",onPageChange:function(e){var t=e.selected*re%m.length;console.log("User requested page number ".concat(e.selected,", which is offset ").concat(t)),je(t)},pageRangeDisplayed:3,marginPagesDisplayed:2,pageCount:ae,previousLabel:"<",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link",containerClassName:"pagination",activeClassName:"active",renderOnZeroPageCount:null})})]})]})]})},pt=function(e){var t=e.key,a=e.data,n=e.index,s=e.userRank,r=Object(c.useState)(a),i=Object(l.a)(r,2),o=i[0],j=i[1],u=Object(c.useState)(n+1),b=Object(l.a)(u,2),d=b[0];b[1];return Object(c.useEffect)((function(){j(a)}),[t,a]),Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:0!=s?s:d}),Object(v.jsxs)("td",{className:"leaderboardProfile",children:[Object(v.jsx)("th",{className:"leaderboardTitle",children:o.title}),Object(v.jsxs)("th",{className:"leaderboardBadge",children:[Object(v.jsx)("td",{children:Object(v.jsx)("img",{src:o.badge})}),Object(v.jsx)("td",{children:o.username})]})]}),Object(v.jsxs)("td",{children:[o.level," "]}),Object(v.jsxs)("td",{children:[0!=o.totalQuestions?Math.round(o.correct/o.totalQuestions*100):0,"%"]}),Object(v.jsx)("td",{children:o.playCount})]},t)})};var ht=function(e){var t=Object(c.useState)(e.users),a=Object(l.a)(t,2),n=a[0],s=a[1],r=Object(c.useState)(),i=Object(l.a)(r,2),o=i[0],j=i[1],u=Object(c.useState)(),b=Object(l.a)(u,2),d=b[0],O=b[1],m=Object(c.useState)(),p=Object(l.a)(m,2),h=p[0],g=p[1],f=Object(c.useState)(),x=Object(l.a)(f,2),N=x[0],y=x[1];return Object(c.useEffect)((function(){void 0!=e.user&&(s(e.users),j(n.indexOf(n.find((function(t){return t.username==e.user.username})))+1),y(!1),g(!1),O(!0))}),[]),Object(c.useEffect)((function(){void 0!=e.user&&j(n.indexOf(n.find((function(t){return t.username==e.user.username})))+1)}),[n]),Object(v.jsxs)("div",{className:"leaderboardTable",children:[Object(v.jsxs)("table",{children:[Object(v.jsx)("thead",{style:{opacity:"0%"},children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{style:{border:"none"},children:"Rank"}),Object(v.jsx)("th",{style:{border:"none"},children:"Username"}),Object(v.jsx)("th",{style:{border:"none"},children:Object(v.jsx)("button",{children:"Level"})}),Object(v.jsx)("th",{style:{border:"none"},children:Object(v.jsx)("button",{children:"Accuracy"})}),Object(v.jsx)("th",{style:{border:"none"},children:Object(v.jsx)("button",{children:"Play Count"})})]})}),Object(v.jsx)("tbody",{children:!!e.user&&Object(v.jsx)(pt,{data:e.user,index:0,userRank:o},0)})]}),0!==n.length&&Object(v.jsxs)("table",{children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Rank"}),Object(v.jsx)("th",{children:"Username"}),Object(v.jsx)("th",{children:Object(v.jsx)("button",{disabled:h,onClick:function(){return O(!1),y(!1),g(!0),s(n.sort((function(e,t){return t.level-e.level}))),void j(n.indexOf(n.find((function(t){return t.username===e.user.username})))+1)},children:"Level"})}),Object(v.jsx)("th",{children:Object(v.jsx)("button",{disabled:d,onClick:function(){return y(!1),g(!1),O(!0),s(n.sort((function(e,t){return 0!==t.totalQuestions?t.correct/t.totalQuestions-e.correct/e.totalQuestions:0-e.correct/e.totalQuestions}))),void j(n.indexOf(n.find((function(t){return t.username===e.user.username})))+1)},children:"Accuracy"})}),Object(v.jsx)("th",{children:Object(v.jsx)("button",{disabled:N,onClick:function(){return O(!1),g(!1),y(!0),s(n.sort((function(e,t){return t.playCount-e.playCount}))),void j(n.indexOf(n.find((function(t){return t.username===e.user.username})))+1)},children:"Play Count"})})]})}),Object(v.jsx)("tbody",{children:n.map((function(e,t){return Object(v.jsx)(pt,{data:e,index:t,userRank:0},t)}))})]})]})};var gt=function(){var e=Object(c.useState)(),t=Object(l.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(),r=Object(l.a)(s,2),i=r[0],o=r[1],j=Object(c.useState)(),b=Object(l.a)(j,2),d=(b[0],b[1]),O=Object(c.useState)(!0),m=Object(l.a)(O,2),p=(m[0],m[1]);return Object(c.useEffect)((function(){var e=localStorage.getItem("data");e=JSON.parse(e),u.a.get("/api/v1/get_user?user_id="+e.id).then((function(e){return n(e.data)})).catch((function(e){d("No userdata")})),u.a.get("/api/v1").then((function(e){p(!0),o(e.data.sort((function(e,t){return 0!==t.totalQuestions?t.correct/t.totalQuestions-e.correct/e.totalQuestions:0-e.correct/e.totalQuestions}))),p(!1)})).catch((function(e){d("Error loading users"),p(!1),console.log("Error loading users")}))}),[]),Object(v.jsx)("div",{children:void 0!=i&&Object(v.jsx)(ht,{user:a,users:i})})};var ft=function(){return Object(v.jsx)(i.a,{children:Object(v.jsxs)("div",{className:"grid-container",children:[Object(v.jsx)(J,{}),Object(v.jsx)(C,{}),Object(v.jsxs)("main",{children:[Object(v.jsx)(o.a,{path:"/quiz/:quizId",component:ze}),Object(v.jsx)(o.a,{path:"/platform/:id",component:Ae}),Object(v.jsx)(o.a,{path:"/CreatePlatform",component:_e}),Object(v.jsx)(o.a,{path:"/categories",component:Be}),Object(v.jsx)(o.a,{path:"/",component:Ee,exact:!0}),Object(v.jsx)(o.a,{path:"/mypage",component:Re}),Object(v.jsx)(o.a,{path:"/search",component:Me}),Object(v.jsx)(o.a,{path:"/help",component:st}),Object(v.jsx)(o.a,{path:"/CreateQuiz/:platformId",component:Qe}),Object(v.jsx)(o.a,{path:"/CreateQuestion/:quizId",component:bt}),Object(v.jsx)(o.a,{path:"/EditPlatform/:platformId",component:dt}),Object(v.jsx)(o.a,{path:"/ProfileSetting/:userId",component:Ot}),Object(v.jsx)(o.a,{path:"/store",component:mt}),Object(v.jsx)(o.a,{path:"/leaderboard",component:gt})]})]})})},xt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,231)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),s(e),r(e)}))},vt=function(){var e=function(){var e=Object(c.useState)({loggedIn:!1,username:"",email:null,actualName:null,search:""}),t=Object(l.a)(e,2),a=t[0],n=t[1],s=function(e){var t=e.type,c=e.payload;switch(t){case d:return n({loggedIn:!0,username:c.username,email:c.email,actualName:c.actualName,search:a.search});case O:return n({loggedIn:!1,username:null,email:null,actualName:null,search:a.search});case m:return n({loggedIn:a.loggedIn,username:a.username,email:a.email,actualName:a.actualName,search:c.search});default:return a}};return a.logIn=function(e){s({type:d,payload:{username:e.username,email:e.email,actualName:e.actualName}})},a.logOut=function(){s({type:O,payload:{empty:"empty"}})},a.setSearch=function(e){s({type:m,payload:{search:e}})},{store:a,storeReducer:s}}();return Object(v.jsx)(b.Provider,{value:e,children:Object(v.jsx)(ft,{})})};r.a.render(Object(v.jsx)(n.a.StrictMode,{children:Object(v.jsx)(vt,{})}),document.getElementById("root")),xt()}},[[176,1,2]]]);
//# sourceMappingURL=main.3c412ace.chunk.js.map